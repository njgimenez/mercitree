{"ast":null,"code":"var _jsxFileName = \"/home/devdisnovo/Documentos/PROYECTOS/merci/client/src/components/PDFGenerator.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PDFGenerator = ({\n  votos,\n  estadisticas,\n  treeRef\n}) => {\n  _s();\n  const [generating, setGenering] = React.useState(false);\n  const generatePDF = async () => {\n    if (!treeRef.current) return;\n    setGenering(true);\n    try {\n      const pdf = new jsPDF('p', 'mm', 'a4');\n\n      // Configurar codificación para caracteres especiales\n      pdf.setLanguage('es');\n      const pageWidth = pdf.internal.pageSize.getWidth();\n      const pageHeight = pdf.internal.pageSize.getHeight();\n\n      // Configurar fuentes modernas\n      pdf.setFont('helvetica');\n\n      // Página 1: Portada con encabezado\n      pdf.setFillColor(248, 250, 252); // Fondo lavanda muy claro\n      pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n\n      // Encabezado principal\n      pdf.setFontSize(24);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text('Arbol de Predicciones - Un Recuerdo Especial', pageWidth / 2, 30, {\n        align: 'center'\n      });\n\n      // Capturar imagen del árbol\n      const treeCanvas = await html2canvas(treeRef.current, {\n        scale: 1.5,\n        useCORS: true,\n        allowTaint: true,\n        backgroundColor: '#ffffff',\n        logging: false,\n        width: treeRef.current.offsetWidth,\n        height: treeRef.current.offsetHeight\n      });\n      const treeImgData = treeCanvas.toDataURL('image/png');\n      const treeAspectRatio = treeCanvas.width / treeCanvas.height;\n      const treeWidth = pageWidth - 40;\n      const treeHeight = treeWidth / treeAspectRatio;\n\n      // Agregar imagen del árbol centrada\n      pdf.addImage(treeImgData, 'PNG', 20, 50, treeWidth, treeHeight);\n\n      // Fecha de generación\n      pdf.setFontSize(12);\n      pdf.setTextColor(153, 153, 153);\n      pdf.setFont('helvetica', 'normal');\n      const fecha = new Date().toLocaleDateString('es-ES', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n      pdf.text(`Generado el ${fecha}`, pageWidth / 2, pageHeight - 20, {\n        align: 'center'\n      });\n\n      // Página 2: Estadísticas en tarjetas modernas\n      pdf.addPage();\n      pdf.setFillColor(248, 250, 252); // Fondo lavanda muy claro\n      pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n\n      // Título de estadísticas\n      pdf.setFontSize(20);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text('Estadisticas de las Predicciones', pageWidth / 2, 30, {\n        align: 'center'\n      });\n\n      // Dibujar tarjetas de estadísticas modernas\n      const cardWidth = 55;\n      const cardHeight = 35;\n      const startX = (pageWidth - (cardWidth * 3 + 20)) / 2;\n\n      // Tarjeta Total\n      pdf.setFillColor(255, 255, 255);\n      pdf.setDrawColor(230, 230, 230);\n      pdf.setLineWidth(0.5);\n      pdf.roundedRect(startX, 50, cardWidth, cardHeight, 8, 8, 'FD');\n      pdf.setTextColor(102, 126, 234);\n      pdf.setFontSize(18);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(estadisticas.total_votos.toString(), startX + cardWidth / 2, 65, {\n        align: 'center'\n      });\n      pdf.setFontSize(10);\n      pdf.setTextColor(102, 102, 102);\n      pdf.setFont('helvetica', 'normal');\n      pdf.text('Total Votos', startX + cardWidth / 2, 75, {\n        align: 'center'\n      });\n\n      // Tarjeta Niño\n      pdf.setFillColor(255, 255, 255);\n      pdf.roundedRect(startX + cardWidth + 10, 50, cardWidth, cardHeight, 8, 8, 'FD');\n      pdf.setTextColor(30, 64, 175);\n      pdf.setFontSize(18);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(estadisticas.votos_varon.toString(), startX + cardWidth + 10 + cardWidth / 2, 65, {\n        align: 'center'\n      });\n      pdf.setFontSize(10);\n      pdf.setTextColor(102, 102, 102);\n      pdf.setFont('helvetica', 'normal');\n      pdf.text('Nino', startX + cardWidth + 10 + cardWidth / 2, 75, {\n        align: 'center'\n      });\n\n      // Tarjeta Niña\n      pdf.setFillColor(255, 255, 255);\n      pdf.roundedRect(startX + (cardWidth + 10) * 2, 50, cardWidth, cardHeight, 8, 8, 'FD');\n      pdf.setTextColor(190, 24, 93);\n      pdf.setFontSize(18);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(estadisticas.votos_nina.toString(), startX + (cardWidth + 10) * 2 + cardWidth / 2, 65, {\n        align: 'center'\n      });\n      pdf.setFontSize(10);\n      pdf.setTextColor(102, 102, 102);\n      pdf.setFont('helvetica', 'normal');\n      pdf.text('Nina', startX + (cardWidth + 10) * 2 + cardWidth / 2, 75, {\n        align: 'center'\n      });\n\n      // Porcentajes en círculos pequeños\n      pdf.setFontSize(12);\n      const porcentajeNino = Math.round(estadisticas.votos_varon / estadisticas.total_votos * 100);\n      const porcentajeNina = Math.round(estadisticas.votos_nina / estadisticas.total_votos * 100);\n\n      // Círculo para niño\n      pdf.setFillColor(212, 240, 247); // Celeste suave\n      pdf.circle(startX + cardWidth + 10 + cardWidth / 2, 90, 8, 'F');\n      pdf.setTextColor(30, 64, 175);\n      pdf.setFontSize(10);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(`${porcentajeNino}%`, startX + cardWidth + 10 + cardWidth / 2, 93, {\n        align: 'center'\n      });\n\n      // Círculo para niña\n      pdf.setFillColor(250, 218, 221); // Rosa suave\n      pdf.circle(startX + (cardWidth + 10) * 2 + cardWidth / 2, 90, 8, 'F');\n      pdf.setTextColor(190, 24, 93);\n      pdf.text(`${porcentajeNina}%`, startX + (cardWidth + 10) * 2 + cardWidth / 2, 93, {\n        align: 'center'\n      });\n\n      // Filtrar comentarios válidos\n      const comentariosValidos = votos.filter(voto => voto.comentario && voto.comentario.trim().length > 0 && voto.comentario.trim() !== 'undefined' && voto.comentario.trim() !== 'null');\n      if (comentariosValidos.length > 0) {\n        // Página 3+: Comentarios en rejilla de 3 columnas\n        pdf.addPage();\n        pdf.setFillColor(248, 250, 252); // Fondo lavanda muy claro\n        pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n\n        // Título de la página\n        pdf.setFontSize(20);\n        pdf.setTextColor(51, 51, 51);\n        pdf.setFont('helvetica', 'bold');\n        pdf.text('Mensajes Especiales', pageWidth / 2, 25, {\n          align: 'center'\n        });\n\n        // Configuración de la rejilla\n        const marginX = 15;\n        const marginY = 40;\n        const cardWidth = (pageWidth - marginX * 2 - 20) / 3; // 3 columnas con espacio entre ellas\n        const cardHeight = 60;\n        const cardSpacing = 10;\n        let currentRow = 0;\n        let currentCol = 0;\n        let pageCount = 3;\n        for (let index = 0; index < comentariosValidos.length; index++) {\n          const voto = comentariosValidos[index];\n\n          // Verificar si necesitamos nueva página\n          const currentY = marginY + currentRow * (cardHeight + cardSpacing);\n          if (currentY + cardHeight > pageHeight - 30) {\n            pdf.addPage();\n            pdf.setFillColor(248, 250, 252);\n            pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n            pdf.setFontSize(20);\n            pdf.setTextColor(51, 51, 51);\n            pdf.setFont('helvetica', 'bold');\n            pdf.text(`Mensajes Especiales (Pagina ${pageCount})`, pageWidth / 2, 25, {\n              align: 'center'\n            });\n            currentRow = 0;\n            currentCol = 0;\n            pageCount++;\n          }\n          const cardX = marginX + currentCol * (cardWidth + 10);\n          const cardY = marginY + currentRow * (cardHeight + cardSpacing);\n\n          // Dibujar card con estilo moderno\n          pdf.setFillColor(255, 255, 255);\n          pdf.setDrawColor(230, 230, 230);\n          pdf.setLineWidth(0.5);\n          pdf.roundedRect(cardX, cardY, cardWidth, cardHeight, 8, 8, 'FD');\n\n          // Agregar sombra sutil (simulada con borde más oscuro)\n          pdf.setDrawColor(200, 200, 200);\n          pdf.setLineWidth(0.3);\n          pdf.roundedRect(cardX + 1, cardY + 1, cardWidth, cardHeight, 8, 8, 'S');\n\n          // Banderas - usar texto simple para evitar problemas de codificación\n          const banderas = {\n            'AR': '[AR]',\n            'BO': '[BO]',\n            'BR': '[BR]',\n            'CL': '[CL]',\n            'CO': '[CO]',\n            'CR': '[CR]',\n            'CU': '[CU]',\n            'DO': '[DO]',\n            'EC': '[EC]',\n            'SV': '[SV]',\n            'ES': '[ES]',\n            'GT': '[GT]',\n            'HN': '[HN]',\n            'MX': '[MX]',\n            'NI': '[NI]',\n            'PA': '[PA]',\n            'PY': '[PY]',\n            'PE': '[PE]',\n            'PR': '[PR]',\n            'UY': '[UY]',\n            'VE': '[VE]',\n            'US': '[US]',\n            'CA': '[CA]',\n            'FR': '[FR]',\n            'DE': '[DE]',\n            'IT': '[IT]',\n            'GB': '[GB]',\n            'AU': '[AU]',\n            'NZ': '[NZ]',\n            'JP': '[JP]',\n            'CN': '[CN]',\n            'IN': '[IN]',\n            'RU': '[RU]',\n            'OT': '[OT]'\n          };\n          const bandera = banderas[voto.pais] || '[OT]';\n\n          // Nombre y bandera (título)\n          pdf.setFontSize(12);\n          pdf.setTextColor(51, 51, 51);\n          pdf.setFont('helvetica', 'bold');\n\n          // Limpiar y validar el nombre\n          let nombreLimpio = voto.nombre || 'Anonimo';\n          nombreLimpio = nombreLimpio.toString().trim();\n          if (nombreLimpio === 'undefined' || nombreLimpio === 'null') {\n            nombreLimpio = 'Anonimo';\n          }\n          const nombreCompleto = `${bandera} ${nombreLimpio}`;\n          pdf.text(nombreCompleto, cardX + 8, cardY + 12);\n\n          // Etiqueta de género (subtítulo)\n          pdf.setFontSize(10);\n          pdf.setFont('helvetica', 'normal');\n          if (voto.prediccion === 'varon') {\n            // Etiqueta celeste para niño\n            pdf.setFillColor(212, 240, 247); // Celeste suave\n            pdf.roundedRect(cardX + 8, cardY + 18, 25, 8, 4, 4, 'F');\n            pdf.setTextColor(30, 64, 175);\n            pdf.text('Nino', cardX + 12, cardY + 23);\n          } else {\n            // Etiqueta rosa para niña\n            pdf.setFillColor(250, 218, 221); // Rosa suave\n            pdf.roundedRect(cardX + 8, cardY + 18, 25, 8, 4, 4, 'F');\n            pdf.setTextColor(190, 24, 93);\n            pdf.text('Nina', cardX + 12, cardY + 23);\n          }\n\n          // Comentario centrado\n          pdf.setFontSize(9);\n          pdf.setTextColor(51, 51, 51);\n          pdf.setFont('helvetica', 'normal');\n\n          // Limpiar y validar el comentario\n          let comentarioLimpio = voto.comentario || 'Sin comentario';\n          comentarioLimpio = comentarioLimpio.toString().trim();\n          if (comentarioLimpio === 'undefined' || comentarioLimpio === 'null') {\n            comentarioLimpio = 'Sin comentario';\n          }\n          const comentario = `\"${comentarioLimpio}\"`;\n          const lines = pdf.splitTextToSize(comentario, cardWidth - 16);\n\n          // Centrar el texto verticalmente en el espacio restante\n          const textHeight = lines.length * 4;\n          const startTextY = cardY + 32 + (cardHeight - 32 - textHeight) / 2;\n          lines.forEach((line, lineIndex) => {\n            pdf.text(line, cardX + 8, startTextY + lineIndex * 4, {\n              align: 'center'\n            });\n          });\n\n          // Fecha en la parte inferior\n          pdf.setFontSize(8);\n          pdf.setTextColor(153, 153, 153);\n\n          // Manejar fechas de forma segura\n          let fechaTexto = 'Fecha no disponible';\n          try {\n            if (voto.fecha) {\n              const fecha = new Date(voto.fecha);\n              if (!isNaN(fecha.getTime())) {\n                const fechaVoto = fecha.toLocaleDateString('es-ES', {\n                  day: 'numeric',\n                  month: 'long',\n                  year: 'numeric'\n                });\n                const horaVoto = fecha.toLocaleTimeString('es-ES', {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                });\n                fechaTexto = `${fechaVoto}, ${horaVoto}`;\n              }\n            }\n          } catch (error) {\n            console.log('Error procesando fecha:', voto.fecha);\n          }\n          pdf.text(fechaTexto, cardX + 8, cardY + cardHeight - 5);\n\n          // Intentar cargar foto si existe\n          if (voto.foto_url) {\n            try {\n              const img = new Image();\n              img.crossOrigin = 'anonymous';\n              img.src = `http://192.168.18.49:5000${voto.foto_url}`;\n              await new Promise((resolve, reject) => {\n                img.onload = resolve;\n                img.onerror = reject;\n                setTimeout(reject, 3000);\n              });\n\n              // Agregar foto pequeña en la esquina superior derecha\n              const fotoSize = 15;\n              pdf.addImage(img, 'JPEG', cardX + cardWidth - fotoSize - 5, cardY + 5, fotoSize, fotoSize);\n            } catch (error) {\n              console.log('No se pudo cargar la foto:', voto.foto_url);\n            }\n          }\n\n          // Avanzar a la siguiente posición en la rejilla\n          currentCol++;\n          if (currentCol >= 3) {\n            currentCol = 0;\n            currentRow++;\n          }\n        }\n      }\n\n      // Página final: Mensaje especial destacado\n      pdf.addPage();\n      pdf.setFillColor(248, 250, 252);\n      pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n\n      // Título principal\n      pdf.setFontSize(24);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text('¡Felicidades Futuros Padres!', pageWidth / 2, 50, {\n        align: 'center'\n      });\n\n      // Card destacada para el mensaje final\n      const finalCardWidth = pageWidth - 40;\n      const finalCardHeight = 120;\n      const finalCardX = 20;\n      const finalCardY = 70;\n\n      // Fondo de la card con gradiente (simulado)\n      pdf.setFillColor(255, 255, 255);\n      pdf.setDrawColor(230, 230, 230);\n      pdf.setLineWidth(1);\n      pdf.roundedRect(finalCardX, finalCardY, finalCardWidth, finalCardHeight, 12, 12, 'FD');\n\n      // Borde decorativo\n      pdf.setDrawColor(102, 126, 234);\n      pdf.setLineWidth(2);\n      pdf.roundedRect(finalCardX, finalCardY, finalCardWidth, finalCardHeight, 12, 12, 'S');\n\n      // Mensaje final\n      pdf.setFontSize(14);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'normal');\n      const mensajeFinal = ['Este árbol representa el amor y las buenas vibras que', 'toda su familia y amigos tienen para ustedes.', '', 'Cada hoja es una predicción llena de cariño y', 'esperanza para el nuevo miembro de la familia.', '', '¡Que este bebe traiga mucha alegria y bendiciones', 'a sus vidas!'];\n      mensajeFinal.forEach((line, index) => {\n        if (line.trim() !== '') {\n          pdf.text(line, pageWidth / 2, finalCardY + 25 + index * 12, {\n            align: 'center'\n          });\n        }\n      });\n\n      // Firma o sello final\n      pdf.setFontSize(12);\n      pdf.setTextColor(102, 126, 234);\n      pdf.setFont('helvetica', 'italic');\n      pdf.text('Con mucho amor y buenos deseos', pageWidth / 2, finalCardY + finalCardHeight + 20, {\n        align: 'center'\n      });\n\n      // Guardar el PDF\n      pdf.save('arbol-predicciones-recuerdo-especial.pdf');\n    } catch (error) {\n      console.error('Error generando PDF:', error);\n      alert('Error al generar el PDF. Inténtalo de nuevo.');\n    } finally {\n      setGenering(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.button, {\n    onClick: generatePDF,\n    disabled: generating,\n    whileHover: {\n      scale: 1.05\n    },\n    whileTap: {\n      scale: 0.95\n    },\n    style: {\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      color: 'white',\n      border: 'none',\n      borderRadius: '15px',\n      padding: '18px 30px',\n      fontSize: '1.1rem',\n      fontWeight: '600',\n      cursor: generating ? 'not-allowed' : 'pointer',\n      width: '100%',\n      marginTop: '20px',\n      boxShadow: '0 4px 15px rgba(102, 126, 234, 0.4)',\n      transition: 'all 0.3s ease',\n      opacity: generating ? 0.7 : 1\n    },\n    children: generating ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '20px',\n          height: '20px',\n          border: '2px solid rgba(255,255,255,0.3)',\n          borderTop: '2px solid white',\n          borderRadius: '50%',\n          animation: 'spin 1s linear infinite'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 422,\n        columnNumber: 11\n      }, this), \"Generando recuerdo especial...\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 421,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: '1.3rem'\n        },\n        children: \"\\uD83D\\uDCC4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 434,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Crear Recuerdo Especial\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 435,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 433,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 399,\n    columnNumber: 5\n  }, this);\n};\n_s(PDFGenerator, \"IZKZ4/5R9/VdhuI5+k+Ba4l0lxQ=\");\n_c = PDFGenerator;\nexport default PDFGenerator;\nvar _c;\n$RefreshReg$(_c, \"PDFGenerator\");","map":{"version":3,"names":["React","jsPDF","html2canvas","motion","jsxDEV","_jsxDEV","PDFGenerator","votos","estadisticas","treeRef","_s","generating","setGenering","useState","generatePDF","current","pdf","setLanguage","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","setFont","setFillColor","rect","setFontSize","setTextColor","text","align","treeCanvas","scale","useCORS","allowTaint","backgroundColor","logging","width","offsetWidth","height","offsetHeight","treeImgData","toDataURL","treeAspectRatio","treeWidth","treeHeight","addImage","fecha","Date","toLocaleDateString","year","month","day","addPage","cardWidth","cardHeight","startX","setDrawColor","setLineWidth","roundedRect","total_votos","toString","votos_varon","votos_nina","porcentajeNino","Math","round","porcentajeNina","circle","comentariosValidos","filter","voto","comentario","trim","length","marginX","marginY","cardSpacing","currentRow","currentCol","pageCount","index","currentY","cardX","cardY","banderas","bandera","pais","nombreLimpio","nombre","nombreCompleto","prediccion","comentarioLimpio","lines","splitTextToSize","textHeight","startTextY","forEach","line","lineIndex","fechaTexto","isNaN","getTime","fechaVoto","horaVoto","toLocaleTimeString","hour","minute","error","console","log","foto_url","img","Image","crossOrigin","src","Promise","resolve","reject","onload","onerror","setTimeout","fotoSize","finalCardWidth","finalCardHeight","finalCardX","finalCardY","mensajeFinal","save","alert","button","onClick","disabled","whileHover","whileTap","style","background","color","border","borderRadius","padding","fontSize","fontWeight","cursor","marginTop","boxShadow","transition","opacity","children","display","alignItems","justifyContent","gap","borderTop","animation","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/devdisnovo/Documentos/PROYECTOS/merci/client/src/components/PDFGenerator.tsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport { motion } from 'framer-motion';\n\ninterface PDFGeneratorProps {\n  votos: any[];\n  estadisticas: any;\n  treeRef: React.RefObject<HTMLDivElement>;\n}\n\nconst PDFGenerator: React.FC<PDFGeneratorProps> = ({ votos, estadisticas, treeRef }) => {\n  const [generating, setGenering] = React.useState(false);\n\n  const generatePDF = async () => {\n    if (!treeRef.current) return;\n    \n    setGenering(true);\n    \n    try {\n      const pdf = new jsPDF('p', 'mm', 'a4');\n      \n      // Configurar codificación para caracteres especiales\n      pdf.setLanguage('es');\n      \n      const pageWidth = pdf.internal.pageSize.getWidth();\n      const pageHeight = pdf.internal.pageSize.getHeight();\n      \n      // Configurar fuentes modernas\n      pdf.setFont('helvetica');\n      \n      // Página 1: Portada con encabezado\n      pdf.setFillColor(248, 250, 252); // Fondo lavanda muy claro\n      pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n      \n      // Encabezado principal\n      pdf.setFontSize(24);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text('Arbol de Predicciones - Un Recuerdo Especial', pageWidth / 2, 30, { align: 'center' });\n      \n      // Capturar imagen del árbol\n      const treeCanvas = await html2canvas(treeRef.current, {\n        scale: 1.5,\n        useCORS: true,\n        allowTaint: true,\n        backgroundColor: '#ffffff',\n        logging: false,\n        width: treeRef.current.offsetWidth,\n        height: treeRef.current.offsetHeight\n      });\n      \n      const treeImgData = treeCanvas.toDataURL('image/png');\n      const treeAspectRatio = treeCanvas.width / treeCanvas.height;\n      const treeWidth = pageWidth - 40;\n      const treeHeight = treeWidth / treeAspectRatio;\n      \n      // Agregar imagen del árbol centrada\n      pdf.addImage(treeImgData, 'PNG', 20, 50, treeWidth, treeHeight);\n      \n      // Fecha de generación\n      pdf.setFontSize(12);\n      pdf.setTextColor(153, 153, 153);\n      pdf.setFont('helvetica', 'normal');\n      const fecha = new Date().toLocaleDateString('es-ES', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n      pdf.text(`Generado el ${fecha}`, pageWidth / 2, pageHeight - 20, { align: 'center' });\n      \n      // Página 2: Estadísticas en tarjetas modernas\n      pdf.addPage();\n      pdf.setFillColor(248, 250, 252); // Fondo lavanda muy claro\n      pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n      \n      // Título de estadísticas\n      pdf.setFontSize(20);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text('Estadisticas de las Predicciones', pageWidth / 2, 30, { align: 'center' });\n      \n      // Dibujar tarjetas de estadísticas modernas\n      const cardWidth = 55;\n      const cardHeight = 35;\n      const startX = (pageWidth - (cardWidth * 3 + 20)) / 2;\n      \n      // Tarjeta Total\n      pdf.setFillColor(255, 255, 255);\n      pdf.setDrawColor(230, 230, 230);\n      pdf.setLineWidth(0.5);\n      pdf.roundedRect(startX, 50, cardWidth, cardHeight, 8, 8, 'FD');\n      pdf.setTextColor(102, 126, 234);\n      pdf.setFontSize(18);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(estadisticas.total_votos.toString(), startX + cardWidth/2, 65, { align: 'center' });\n      pdf.setFontSize(10);\n      pdf.setTextColor(102, 102, 102);\n      pdf.setFont('helvetica', 'normal');\n      pdf.text('Total Votos', startX + cardWidth/2, 75, { align: 'center' });\n      \n      // Tarjeta Niño\n      pdf.setFillColor(255, 255, 255);\n      pdf.roundedRect(startX + cardWidth + 10, 50, cardWidth, cardHeight, 8, 8, 'FD');\n      pdf.setTextColor(30, 64, 175);\n      pdf.setFontSize(18);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(estadisticas.votos_varon.toString(), startX + cardWidth + 10 + cardWidth/2, 65, { align: 'center' });\n      pdf.setFontSize(10);\n      pdf.setTextColor(102, 102, 102);\n      pdf.setFont('helvetica', 'normal');\n      pdf.text('Nino', startX + cardWidth + 10 + cardWidth/2, 75, { align: 'center' });\n      \n      // Tarjeta Niña\n      pdf.setFillColor(255, 255, 255);\n      pdf.roundedRect(startX + (cardWidth + 10) * 2, 50, cardWidth, cardHeight, 8, 8, 'FD');\n      pdf.setTextColor(190, 24, 93);\n      pdf.setFontSize(18);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(estadisticas.votos_nina.toString(), startX + (cardWidth + 10) * 2 + cardWidth/2, 65, { align: 'center' });\n      pdf.setFontSize(10);\n      pdf.setTextColor(102, 102, 102);\n      pdf.setFont('helvetica', 'normal');\n      pdf.text('Nina', startX + (cardWidth + 10) * 2 + cardWidth/2, 75, { align: 'center' });\n      \n      // Porcentajes en círculos pequeños\n      pdf.setFontSize(12);\n      const porcentajeNino = Math.round((estadisticas.votos_varon / estadisticas.total_votos) * 100);\n      const porcentajeNina = Math.round((estadisticas.votos_nina / estadisticas.total_votos) * 100);\n      \n      // Círculo para niño\n      pdf.setFillColor(212, 240, 247); // Celeste suave\n      pdf.circle(startX + cardWidth + 10 + cardWidth/2, 90, 8, 'F');\n      pdf.setTextColor(30, 64, 175);\n      pdf.setFontSize(10);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(`${porcentajeNino}%`, startX + cardWidth + 10 + cardWidth/2, 93, { align: 'center' });\n      \n      // Círculo para niña\n      pdf.setFillColor(250, 218, 221); // Rosa suave\n      pdf.circle(startX + (cardWidth + 10) * 2 + cardWidth/2, 90, 8, 'F');\n      pdf.setTextColor(190, 24, 93);\n      pdf.text(`${porcentajeNina}%`, startX + (cardWidth + 10) * 2 + cardWidth/2, 93, { align: 'center' });\n      \n      // Filtrar comentarios válidos\n      const comentariosValidos = votos.filter(voto => \n        voto.comentario && \n        voto.comentario.trim().length > 0 && \n        voto.comentario.trim() !== 'undefined' &&\n        voto.comentario.trim() !== 'null'\n      );\n      \n      if (comentariosValidos.length > 0) {\n        // Página 3+: Comentarios en rejilla de 3 columnas\n        pdf.addPage();\n        pdf.setFillColor(248, 250, 252); // Fondo lavanda muy claro\n        pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n        \n              // Título de la página\n      pdf.setFontSize(20);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text('Mensajes Especiales', pageWidth / 2, 25, { align: 'center' });\n        \n        // Configuración de la rejilla\n        const marginX = 15;\n        const marginY = 40;\n        const cardWidth = (pageWidth - (marginX * 2) - 20) / 3; // 3 columnas con espacio entre ellas\n        const cardHeight = 60;\n        const cardSpacing = 10;\n        \n        let currentRow = 0;\n        let currentCol = 0;\n        let pageCount = 3;\n        \n        for (let index = 0; index < comentariosValidos.length; index++) {\n          const voto = comentariosValidos[index];\n          \n          // Verificar si necesitamos nueva página\n          const currentY = marginY + (currentRow * (cardHeight + cardSpacing));\n          if (currentY + cardHeight > pageHeight - 30) {\n            pdf.addPage();\n            pdf.setFillColor(248, 250, 252);\n            pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n            pdf.setFontSize(20);\n            pdf.setTextColor(51, 51, 51);\n            pdf.setFont('helvetica', 'bold');\n            pdf.text(`Mensajes Especiales (Pagina ${pageCount})`, pageWidth / 2, 25, { align: 'center' });\n            currentRow = 0;\n            currentCol = 0;\n            pageCount++;\n          }\n          \n          const cardX = marginX + (currentCol * (cardWidth + 10));\n          const cardY = marginY + (currentRow * (cardHeight + cardSpacing));\n          \n          // Dibujar card con estilo moderno\n          pdf.setFillColor(255, 255, 255);\n          pdf.setDrawColor(230, 230, 230);\n          pdf.setLineWidth(0.5);\n          pdf.roundedRect(cardX, cardY, cardWidth, cardHeight, 8, 8, 'FD');\n          \n          // Agregar sombra sutil (simulada con borde más oscuro)\n          pdf.setDrawColor(200, 200, 200);\n          pdf.setLineWidth(0.3);\n          pdf.roundedRect(cardX + 1, cardY + 1, cardWidth, cardHeight, 8, 8, 'S');\n          \n                // Banderas - usar texto simple para evitar problemas de codificación\n      const banderas: { [key: string]: string } = {\n        'AR': '[AR]', 'BO': '[BO]', 'BR': '[BR]', 'CL': '[CL]', 'CO': '[CO]', 'CR': '[CR]', 'CU': '[CU]', 'DO': '[DO]', 'EC': '[EC]', 'SV': '[SV]',\n        'ES': '[ES]', 'GT': '[GT]', 'HN': '[HN]', 'MX': '[MX]', 'NI': '[NI]', 'PA': '[PA]', 'PY': '[PY]', 'PE': '[PE]', 'PR': '[PR]', 'UY': '[UY]',\n        'VE': '[VE]', 'US': '[US]', 'CA': '[CA]', 'FR': '[FR]', 'DE': '[DE]', 'IT': '[IT]', 'GB': '[GB]', 'AU': '[AU]', 'NZ': '[NZ]', 'JP': '[JP]',\n        'CN': '[CN]', 'IN': '[IN]', 'RU': '[RU]', 'OT': '[OT]'\n      };\n      const bandera = banderas[voto.pais] || '[OT]';\n          \n          // Nombre y bandera (título)\n          pdf.setFontSize(12);\n          pdf.setTextColor(51, 51, 51);\n          pdf.setFont('helvetica', 'bold');\n          \n          // Limpiar y validar el nombre\n          let nombreLimpio = voto.nombre || 'Anonimo';\n          nombreLimpio = nombreLimpio.toString().trim();\n          if (nombreLimpio === 'undefined' || nombreLimpio === 'null') {\n            nombreLimpio = 'Anonimo';\n          }\n          \n          const nombreCompleto = `${bandera} ${nombreLimpio}`;\n          pdf.text(nombreCompleto, cardX + 8, cardY + 12);\n          \n          // Etiqueta de género (subtítulo)\n          pdf.setFontSize(10);\n          pdf.setFont('helvetica', 'normal');\n          \n          if (voto.prediccion === 'varon') {\n            // Etiqueta celeste para niño\n            pdf.setFillColor(212, 240, 247); // Celeste suave\n            pdf.roundedRect(cardX + 8, cardY + 18, 25, 8, 4, 4, 'F');\n            pdf.setTextColor(30, 64, 175);\n            pdf.text('Nino', cardX + 12, cardY + 23);\n          } else {\n            // Etiqueta rosa para niña\n            pdf.setFillColor(250, 218, 221); // Rosa suave\n            pdf.roundedRect(cardX + 8, cardY + 18, 25, 8, 4, 4, 'F');\n            pdf.setTextColor(190, 24, 93);\n            pdf.text('Nina', cardX + 12, cardY + 23);\n          }\n          \n          // Comentario centrado\n          pdf.setFontSize(9);\n          pdf.setTextColor(51, 51, 51);\n          pdf.setFont('helvetica', 'normal');\n          \n          // Limpiar y validar el comentario\n          let comentarioLimpio = voto.comentario || 'Sin comentario';\n          comentarioLimpio = comentarioLimpio.toString().trim();\n          if (comentarioLimpio === 'undefined' || comentarioLimpio === 'null') {\n            comentarioLimpio = 'Sin comentario';\n          }\n          \n          const comentario = `\"${comentarioLimpio}\"`;\n          const lines = pdf.splitTextToSize(comentario, cardWidth - 16);\n          \n          // Centrar el texto verticalmente en el espacio restante\n          const textHeight = lines.length * 4;\n          const startTextY = cardY + 32 + (cardHeight - 32 - textHeight) / 2;\n          \n          lines.forEach((line: string, lineIndex: number) => {\n            pdf.text(line, cardX + 8, startTextY + (lineIndex * 4), { align: 'center' });\n          });\n          \n          // Fecha en la parte inferior\n          pdf.setFontSize(8);\n          pdf.setTextColor(153, 153, 153);\n          \n          // Manejar fechas de forma segura\n          let fechaTexto = 'Fecha no disponible';\n          try {\n            if (voto.fecha) {\n              const fecha = new Date(voto.fecha);\n              if (!isNaN(fecha.getTime())) {\n                const fechaVoto = fecha.toLocaleDateString('es-ES', {\n                  day: 'numeric',\n                  month: 'long',\n                  year: 'numeric'\n                });\n                const horaVoto = fecha.toLocaleTimeString('es-ES', {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                });\n                fechaTexto = `${fechaVoto}, ${horaVoto}`;\n              }\n            }\n          } catch (error) {\n            console.log('Error procesando fecha:', voto.fecha);\n          }\n          \n          pdf.text(fechaTexto, cardX + 8, cardY + cardHeight - 5);\n          \n          // Intentar cargar foto si existe\n          if (voto.foto_url) {\n            try {\n              const img = new Image();\n              img.crossOrigin = 'anonymous';\n              img.src = `http://192.168.18.49:5000${voto.foto_url}`;\n              \n              await new Promise((resolve, reject) => {\n                img.onload = resolve;\n                img.onerror = reject;\n                setTimeout(reject, 3000);\n              });\n              \n              // Agregar foto pequeña en la esquina superior derecha\n              const fotoSize = 15;\n              pdf.addImage(img, 'JPEG', cardX + cardWidth - fotoSize - 5, cardY + 5, fotoSize, fotoSize);\n            } catch (error) {\n              console.log('No se pudo cargar la foto:', voto.foto_url);\n            }\n          }\n          \n          // Avanzar a la siguiente posición en la rejilla\n          currentCol++;\n          if (currentCol >= 3) {\n            currentCol = 0;\n            currentRow++;\n          }\n        }\n      }\n      \n      // Página final: Mensaje especial destacado\n      pdf.addPage();\n      pdf.setFillColor(248, 250, 252);\n      pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n      \n      // Título principal\n      pdf.setFontSize(24);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text('¡Felicidades Futuros Padres!', pageWidth / 2, 50, { align: 'center' });\n      \n      // Card destacada para el mensaje final\n      const finalCardWidth = pageWidth - 40;\n      const finalCardHeight = 120;\n      const finalCardX = 20;\n      const finalCardY = 70;\n      \n      // Fondo de la card con gradiente (simulado)\n      pdf.setFillColor(255, 255, 255);\n      pdf.setDrawColor(230, 230, 230);\n      pdf.setLineWidth(1);\n      pdf.roundedRect(finalCardX, finalCardY, finalCardWidth, finalCardHeight, 12, 12, 'FD');\n      \n      // Borde decorativo\n      pdf.setDrawColor(102, 126, 234);\n      pdf.setLineWidth(2);\n      pdf.roundedRect(finalCardX, finalCardY, finalCardWidth, finalCardHeight, 12, 12, 'S');\n      \n      // Mensaje final\n      pdf.setFontSize(14);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'normal');\n      \n      const mensajeFinal = [\n        'Este árbol representa el amor y las buenas vibras que',\n        'toda su familia y amigos tienen para ustedes.',\n        '',\n        'Cada hoja es una predicción llena de cariño y',\n        'esperanza para el nuevo miembro de la familia.',\n        '',\n        '¡Que este bebe traiga mucha alegria y bendiciones',\n        'a sus vidas!'\n      ];\n      \n      mensajeFinal.forEach((line, index) => {\n        if (line.trim() !== '') {\n          pdf.text(line, pageWidth / 2, finalCardY + 25 + (index * 12), { align: 'center' });\n        }\n      });\n      \n      // Firma o sello final\n      pdf.setFontSize(12);\n      pdf.setTextColor(102, 126, 234);\n      pdf.setFont('helvetica', 'italic');\n      pdf.text('Con mucho amor y buenos deseos', pageWidth / 2, finalCardY + finalCardHeight + 20, { align: 'center' });\n      \n      // Guardar el PDF\n      pdf.save('arbol-predicciones-recuerdo-especial.pdf');\n      \n    } catch (error) {\n      console.error('Error generando PDF:', error);\n      alert('Error al generar el PDF. Inténtalo de nuevo.');\n    } finally {\n      setGenering(false);\n    }\n  };\n\n  return (\n    <motion.button\n      onClick={generatePDF}\n      disabled={generating}\n      whileHover={{ scale: 1.05 }}\n      whileTap={{ scale: 0.95 }}\n      style={{\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        color: 'white',\n        border: 'none',\n        borderRadius: '15px',\n        padding: '18px 30px',\n        fontSize: '1.1rem',\n        fontWeight: '600',\n        cursor: generating ? 'not-allowed' : 'pointer',\n        width: '100%',\n        marginTop: '20px',\n        boxShadow: '0 4px 15px rgba(102, 126, 234, 0.4)',\n        transition: 'all 0.3s ease',\n        opacity: generating ? 0.7 : 1\n      }}\n    >\n      {generating ? (\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '10px' }}>\n          <div style={{ \n            width: '20px', \n            height: '20px', \n            border: '2px solid rgba(255,255,255,0.3)', \n            borderTop: '2px solid white', \n            borderRadius: '50%', \n            animation: 'spin 1s linear infinite' \n          }} />\n          Generando recuerdo especial...\n        </div>\n      ) : (\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '10px' }}>\n          <span style={{ fontSize: '1.3rem' }}>📄</span>\n          <span>Crear Recuerdo Especial</span>\n        </div>\n      )}\n    </motion.button>\n  );\n};\n\nexport default PDFGenerator; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}