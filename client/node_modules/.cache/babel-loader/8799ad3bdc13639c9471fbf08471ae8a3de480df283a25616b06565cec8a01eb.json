{"ast":null,"code":"var _jsxFileName = \"/home/devdisnovo/Documentos/PROYECTOS/merci/client/src/components/PDFGenerator.tsx\",\n  _s = $RefreshSig$();\nimport React from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport { motion } from 'framer-motion';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst PDFGenerator = ({\n  votos,\n  estadisticas,\n  treeRef\n}) => {\n  _s();\n  const [generating, setGenering] = React.useState(false);\n  const generatePDF = async () => {\n    if (!treeRef.current) return;\n    setGenering(true);\n    try {\n      const pdf = new jsPDF('p', 'mm', 'a4');\n      const pageWidth = pdf.internal.pageSize.getWidth();\n      const pageHeight = pdf.internal.pageSize.getHeight();\n\n      // Configurar fuentes modernas\n      pdf.setFont('helvetica');\n\n      // Página 1: Portada con encabezado\n      pdf.setFillColor(248, 250, 252); // Fondo lavanda muy claro\n      pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n\n      // Encabezado principal\n      pdf.setFontSize(24);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text('Arbol de Predicciones - Un Recuerdo Especial', pageWidth / 2, 30, {\n        align: 'center'\n      });\n\n      // Capturar imagen del árbol\n      const treeCanvas = await html2canvas(treeRef.current, {\n        scale: 1.5,\n        useCORS: true,\n        allowTaint: true,\n        backgroundColor: '#ffffff',\n        logging: false,\n        width: treeRef.current.offsetWidth,\n        height: treeRef.current.offsetHeight\n      });\n      const treeImgData = treeCanvas.toDataURL('image/png');\n      const treeAspectRatio = treeCanvas.width / treeCanvas.height;\n      const treeWidth = pageWidth - 40;\n      const treeHeight = treeWidth / treeAspectRatio;\n\n      // Agregar imagen del árbol centrada\n      pdf.addImage(treeImgData, 'PNG', 20, 50, treeWidth, treeHeight);\n\n      // Fecha de generación\n      pdf.setFontSize(12);\n      pdf.setTextColor(153, 153, 153);\n      pdf.setFont('helvetica', 'normal');\n      const fecha = new Date().toLocaleDateString('es-ES', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n      pdf.text(`Generado el ${fecha}`, pageWidth / 2, pageHeight - 20, {\n        align: 'center'\n      });\n\n      // Página 2: Estadísticas en tarjetas modernas\n      pdf.addPage();\n      pdf.setFillColor(248, 250, 252);\n      pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n\n      // Título de estadísticas\n      pdf.setFontSize(20);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text('Estadisticas de las Predicciones', pageWidth / 2, 30, {\n        align: 'center'\n      });\n\n      // Dibujar tarjetas de estadísticas modernas\n      const cardWidth = 55;\n      const cardHeight = 35;\n      const startX = (pageWidth - (cardWidth * 3 + 20)) / 2;\n\n      // Tarjeta Total\n      pdf.setFillColor(255, 255, 255);\n      pdf.setDrawColor(230, 230, 230);\n      pdf.setLineWidth(0.5);\n      pdf.roundedRect(startX, 50, cardWidth, cardHeight, 8, 8, 'FD');\n      pdf.setTextColor(102, 126, 234);\n      pdf.setFontSize(18);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(estadisticas.total_votos.toString(), startX + cardWidth / 2, 65, {\n        align: 'center'\n      });\n      pdf.setFontSize(10);\n      pdf.setTextColor(102, 102, 102);\n      pdf.setFont('helvetica', 'normal');\n      pdf.text('Total Votos', startX + cardWidth / 2, 75, {\n        align: 'center'\n      });\n\n      // Tarjeta Niño\n      pdf.setFillColor(255, 255, 255);\n      pdf.roundedRect(startX + cardWidth + 10, 50, cardWidth, cardHeight, 8, 8, 'FD');\n      pdf.setTextColor(30, 64, 175);\n      pdf.setFontSize(18);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(estadisticas.votos_varon.toString(), startX + cardWidth + 10 + cardWidth / 2, 65, {\n        align: 'center'\n      });\n      pdf.setFontSize(10);\n      pdf.setTextColor(102, 102, 102);\n      pdf.setFont('helvetica', 'normal');\n      pdf.text('Nino', startX + cardWidth + 10 + cardWidth / 2, 75, {\n        align: 'center'\n      });\n\n      // Tarjeta Niña\n      pdf.setFillColor(255, 255, 255);\n      pdf.roundedRect(startX + (cardWidth + 10) * 2, 50, cardWidth, cardHeight, 8, 8, 'FD');\n      pdf.setTextColor(190, 24, 93);\n      pdf.setFontSize(18);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(estadisticas.votos_nina.toString(), startX + (cardWidth + 10) * 2 + cardWidth / 2, 65, {\n        align: 'center'\n      });\n      pdf.setFontSize(10);\n      pdf.setTextColor(102, 102, 102);\n      pdf.setFont('helvetica', 'normal');\n      pdf.text('Nina', startX + (cardWidth + 10) * 2 + cardWidth / 2, 75, {\n        align: 'center'\n      });\n\n      // Porcentajes en círculos pequeños\n      pdf.setFontSize(12);\n      const porcentajeNino = Math.round(estadisticas.votos_varon / estadisticas.total_votos * 100);\n      const porcentajeNina = Math.round(estadisticas.votos_nina / estadisticas.total_votos * 100);\n\n      // Círculo para niño\n      pdf.setFillColor(212, 240, 247); // Celeste suave\n      pdf.circle(startX + cardWidth + 10 + cardWidth / 2, 90, 8, 'F');\n      pdf.setTextColor(30, 64, 175);\n      pdf.setFontSize(10);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(`${porcentajeNino}%`, startX + cardWidth + 10 + cardWidth / 2, 93, {\n        align: 'center'\n      });\n\n      // Círculo para niña\n      pdf.setFillColor(250, 218, 221); // Rosa suave\n      pdf.circle(startX + (cardWidth + 10) * 2 + cardWidth / 2, 90, 8, 'F');\n      pdf.setTextColor(190, 24, 93);\n      pdf.text(`${porcentajeNina}%`, startX + (cardWidth + 10) * 2 + cardWidth / 2, 93, {\n        align: 'center'\n      });\n\n      // Filtrar comentarios válidos\n      const comentariosValidos = votos.filter(voto => voto.comentario && voto.comentario.trim().length > 0 && voto.comentario.trim() !== 'undefined' && voto.comentario.trim() !== 'null');\n      if (comentariosValidos.length > 0) {\n        // Página 3+: Comentarios en rejilla de 3 columnas\n        pdf.addPage();\n        pdf.setFillColor(248, 250, 252);\n        pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n\n        // Título de la página\n        pdf.setFontSize(20);\n        pdf.setTextColor(51, 51, 51);\n        pdf.setFont('helvetica', 'bold');\n        pdf.text('Mensajes Especiales', pageWidth / 2, 25, {\n          align: 'center'\n        });\n\n        // Configuración de la rejilla\n        const marginX = 15;\n        const marginY = 40;\n        const cardWidth = (pageWidth - marginX * 2 - 20) / 3; // 3 columnas con espacio entre ellas\n        const cardHeight = 70; // Aumentado para más espacio\n        const cardSpacing = 10;\n        let currentRow = 0;\n        let currentCol = 0;\n        let pageCount = 3;\n\n        // Cache de banderas para evitar múltiples descargas\n        const flagCache = new Map();\n        for (let index = 0; index < comentariosValidos.length; index++) {\n          var _voto$nombre;\n          const voto = comentariosValidos[index];\n\n          // Verificar si necesitamos nueva página\n          const currentY = marginY + currentRow * (cardHeight + cardSpacing);\n          if (currentY + cardHeight > pageHeight - 30) {\n            pdf.addPage();\n            pdf.setFillColor(248, 250, 252);\n            pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n            pdf.setFontSize(20);\n            pdf.setTextColor(51, 51, 51);\n            pdf.setFont('helvetica', 'bold');\n            pdf.text(`Mensajes Especiales (Pagina ${pageCount})`, pageWidth / 2, 25, {\n              align: 'center'\n            });\n            currentRow = 0;\n            currentCol = 0;\n            pageCount++;\n          }\n          const cardX = marginX + currentCol * (cardWidth + 10);\n          const cardY = marginY + currentRow * (cardHeight + cardSpacing);\n\n          // Dibujar card con estilo moderno\n          pdf.setFillColor(255, 255, 255);\n          pdf.setDrawColor(230, 230, 230);\n          pdf.setLineWidth(0.5);\n          pdf.roundedRect(cardX, cardY, cardWidth, cardHeight, 8, 8, 'FD');\n\n          // Agregar sombra sutil (simulada con borde más oscuro)\n          pdf.setDrawColor(200, 200, 200);\n          pdf.setLineWidth(0.3);\n          pdf.roundedRect(cardX + 1, cardY + 1, cardWidth, cardHeight, 8, 8, 'S');\n\n          // Banderas reales\n          const banderas = {\n            'AR': '🇦🇷',\n            'BO': '🇧🇴',\n            'BR': '🇧🇷',\n            'CL': '🇨🇱',\n            'CO': '🇨🇴',\n            'CR': '🇨🇷',\n            'CU': '🇨🇺',\n            'DO': '🇩🇴',\n            'EC': '🇪🇨',\n            'SV': '🇸🇻',\n            'ES': '🇪🇸',\n            'GT': '🇬🇹',\n            'HN': '🇭🇳',\n            'MX': '🇲🇽',\n            'NI': '🇳🇮',\n            'PA': '🇵🇦',\n            'PY': '🇵🇾',\n            'PE': '🇵🇪',\n            'PR': '🇵🇷',\n            'UY': '🇺🇾',\n            'VE': '🇻🇪',\n            'US': '🇺🇸',\n            'CA': '🇨🇦',\n            'FR': '🇫🇷',\n            'DE': '🇩🇪',\n            'IT': '🇮🇹',\n            'GB': '🇬🇧',\n            'AU': '🇦🇺',\n            'NZ': '🇳🇿',\n            'JP': '🇯🇵',\n            'CN': '🇨🇳',\n            'IN': '🇮🇳',\n            'RU': '🇷🇺',\n            'OT': '🌍'\n          };\n          const bandera = banderas[voto.pais] || '🌍';\n\n          // Limpiar y validar el nombre\n          let nombreLimpio = ((_voto$nombre = voto.nombre) === null || _voto$nombre === void 0 ? void 0 : _voto$nombre.toString().trim()) || 'Anonimo';\n          nombreLimpio = nombreLimpio.toString().trim();\n          if (nombreLimpio === 'undefined' || nombreLimpio === 'null') {\n            nombreLimpio = 'Anonimo';\n          }\n\n          // Nombre y bandera (título)\n          pdf.setFontSize(11);\n          pdf.setTextColor(51, 51, 51);\n          pdf.setFont('helvetica', 'bold');\n          const nombreCompleto = `${bandera} ${nombreLimpio}`;\n          pdf.text(nombreCompleto, cardX + 8, cardY + 12);\n\n          // Etiqueta de género (subtítulo)\n          pdf.setFontSize(9);\n          pdf.setFont('helvetica', 'normal');\n          if (voto.prediccion === 'varon') {\n            // Etiqueta celeste para niño\n            pdf.setFillColor(212, 240, 247); // Celeste suave\n            pdf.roundedRect(cardX + 8, cardY + 20, 25, 8, 4, 4, 'F');\n            pdf.setTextColor(30, 64, 175);\n            pdf.text('Nino', cardX + 12, cardY + 25);\n          } else {\n            // Etiqueta rosa para niña\n            pdf.setFillColor(250, 218, 221); // Rosa suave\n            pdf.roundedRect(cardX + 8, cardY + 20, 25, 8, 4, 4, 'F');\n            pdf.setTextColor(190, 24, 93);\n            pdf.text('Nina', cardX + 12, cardY + 25);\n          }\n\n          // Limpiar y validar el comentario\n          let comentarioLimpio = voto.comentario || 'Sin comentario';\n          comentarioLimpio = comentarioLimpio.toString().trim();\n          if (comentarioLimpio === 'undefined' || comentarioLimpio === 'null') {\n            comentarioLimpio = 'Sin comentario';\n          }\n\n          // Comentario centrado\n          pdf.setFontSize(8);\n          pdf.setTextColor(51, 51, 51);\n          pdf.setFont('helvetica', 'normal');\n          const comentario = `\"${comentarioLimpio}\"`;\n          const lines = pdf.splitTextToSize(comentario, cardWidth - 16);\n\n          // Centrar el texto verticalmente en el espacio restante\n          const textHeight = lines.length * 3.5;\n          const startTextY = cardY + 35 + (cardHeight - 35 - textHeight - 15) / 2; // Dejar espacio para fecha\n\n          lines.forEach((line, lineIndex) => {\n            pdf.text(line, cardX + 8, startTextY + lineIndex * 3.5, {\n              align: 'center'\n            });\n          });\n\n          // Fecha en la parte inferior - MEJORADA\n          pdf.setFontSize(7);\n          pdf.setTextColor(153, 153, 153);\n\n          // Manejar fechas de forma segura\n          let fechaTexto = 'Fecha no disponible';\n          try {\n            if (voto.fecha) {\n              const fecha = new Date(voto.fecha);\n              if (!isNaN(fecha.getTime())) {\n                const fechaVoto = fecha.toLocaleDateString('es-ES', {\n                  day: 'numeric',\n                  month: 'short',\n                  year: 'numeric'\n                });\n                const horaVoto = fecha.toLocaleTimeString('es-ES', {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                });\n                fechaTexto = `${fechaVoto}, ${horaVoto}`;\n              }\n            }\n          } catch (error) {\n            console.log('Error procesando fecha:', voto.fecha);\n          }\n          pdf.text(fechaTexto, cardX + 8, cardY + cardHeight - 8);\n\n          // Intentar cargar foto si existe - FOTO CIRCULAR\n          if (voto.foto_url) {\n            try {\n              const img = new Image();\n              img.crossOrigin = 'anonymous';\n              img.src = `http://192.168.18.49:5000${voto.foto_url}`;\n              await new Promise((resolve, reject) => {\n                img.onload = resolve;\n                img.onerror = reject;\n                setTimeout(reject, 3000);\n              });\n\n              // Crear foto circular en la esquina superior derecha\n              const fotoSize = 20;\n              const fotoX = cardX + cardWidth - fotoSize - 5;\n              const fotoY = cardY + 5;\n\n              // Fondo circular blanco\n              pdf.setFillColor(255, 255, 255);\n              pdf.circle(fotoX + fotoSize / 2, fotoY + fotoSize / 2, fotoSize / 2, 'F');\n\n              // Borde circular\n              pdf.setDrawColor(230, 230, 230);\n              pdf.setLineWidth(0.5);\n              pdf.circle(fotoX + fotoSize / 2, fotoY + fotoSize / 2, fotoSize / 2, 'S');\n\n              // Agregar la imagen (se recortará automáticamente al círculo)\n              pdf.addImage(img, 'JPEG', fotoX, fotoY, fotoSize, fotoSize);\n            } catch (error) {\n              console.log('No se pudo cargar la foto:', voto.foto_url);\n\n              // Placeholder circular si no se puede cargar la foto\n              pdf.setFillColor(229, 231, 235);\n              pdf.circle(cardX + cardWidth - 15, cardY + 15, 10, 'F');\n              pdf.setDrawColor(209, 213, 219);\n              pdf.setLineWidth(0.5);\n              pdf.circle(cardX + cardWidth - 15, cardY + 15, 10, 'S');\n            }\n          }\n\n          // Avanzar a la siguiente posición en la rejilla\n          currentCol++;\n          if (currentCol >= 3) {\n            currentCol = 0;\n            currentRow++;\n          }\n        }\n      }\n\n      // Página final: Mensaje especial destacado\n      pdf.addPage();\n      pdf.setFillColor(248, 250, 252);\n      pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n\n      // Título principal\n      pdf.setFontSize(24);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text('¡Felicidades Futuros Padres!', pageWidth / 2, 50, {\n        align: 'center'\n      });\n\n      // Card destacada para el mensaje final\n      const finalCardWidth = pageWidth - 40;\n      const finalCardHeight = 120;\n      const finalCardX = 20;\n      const finalCardY = 70;\n\n      // Fondo de la card con gradiente (simulado)\n      pdf.setFillColor(255, 255, 255);\n      pdf.setDrawColor(230, 230, 230);\n      pdf.setLineWidth(1);\n      pdf.roundedRect(finalCardX, finalCardY, finalCardWidth, finalCardHeight, 12, 12, 'FD');\n\n      // Borde decorativo\n      pdf.setDrawColor(102, 126, 234);\n      pdf.setLineWidth(2);\n      pdf.roundedRect(finalCardX, finalCardY, finalCardWidth, finalCardHeight, 12, 12, 'S');\n\n      // Mensaje final\n      pdf.setFontSize(14);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'normal');\n      const mensajeFinal = ['Este arbol representa el amor y las buenas vibras que', 'toda su familia y amigos tienen para ustedes.', '', 'Cada hoja es una prediccion llena de carino y', 'esperanza para el nuevo miembro de la familia.', '', '¡Que este bebe traiga mucha alegria y bendiciones', 'a sus vidas!'];\n      mensajeFinal.forEach((line, index) => {\n        if (line.trim() !== '') {\n          pdf.text(line, pageWidth / 2, finalCardY + 25 + index * 12, {\n            align: 'center'\n          });\n        }\n      });\n\n      // Firma o sello final\n      pdf.setFontSize(12);\n      pdf.setTextColor(102, 126, 234);\n      pdf.setFont('helvetica', 'italic');\n      pdf.text('Con mucho amor y buenos deseos', pageWidth / 2, finalCardY + finalCardHeight + 20, {\n        align: 'center'\n      });\n\n      // Guardar el PDF\n      pdf.save('arbol-predicciones-recuerdo-especial.pdf');\n    } catch (error) {\n      console.error('Error generando PDF:', error);\n      alert('Error al generar el PDF. Inténtalo de nuevo.');\n    } finally {\n      setGenering(false);\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(motion.button, {\n    onClick: generatePDF,\n    disabled: generating,\n    whileHover: {\n      scale: 1.05\n    },\n    whileTap: {\n      scale: 0.95\n    },\n    style: {\n      background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n      color: 'white',\n      border: 'none',\n      borderRadius: '15px',\n      padding: '18px 30px',\n      fontSize: '1.1rem',\n      fontWeight: '600',\n      cursor: generating ? 'not-allowed' : 'pointer',\n      width: '100%',\n      marginTop: '20px',\n      boxShadow: '0 4px 15px rgba(102, 126, 234, 0.4)',\n      transition: 'all 0.3s ease',\n      opacity: generating ? 0.7 : 1\n    },\n    children: generating ? /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          width: '20px',\n          height: '20px',\n          border: '2px solid rgba(255,255,255,0.3)',\n          borderTop: '2px solid white',\n          borderRadius: '50%',\n          animation: 'spin 1s linear infinite'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 441,\n        columnNumber: 11\n      }, this), \"Generando recuerdo especial...\"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 440,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        display: 'flex',\n        alignItems: 'center',\n        justifyContent: 'center',\n        gap: '10px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"span\", {\n        style: {\n          fontSize: '1.3rem'\n        },\n        children: \"\\uD83D\\uDCC4\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 453,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n        children: \"Crear Recuerdo Especial\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 454,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 452,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 418,\n    columnNumber: 5\n  }, this);\n};\n_s(PDFGenerator, \"IZKZ4/5R9/VdhuI5+k+Ba4l0lxQ=\");\n_c = PDFGenerator;\nexport default PDFGenerator;\nvar _c;\n$RefreshReg$(_c, \"PDFGenerator\");","map":{"version":3,"names":["React","jsPDF","html2canvas","motion","jsxDEV","_jsxDEV","PDFGenerator","votos","estadisticas","treeRef","_s","generating","setGenering","useState","generatePDF","current","pdf","pageWidth","internal","pageSize","getWidth","pageHeight","getHeight","setFont","setFillColor","rect","setFontSize","setTextColor","text","align","treeCanvas","scale","useCORS","allowTaint","backgroundColor","logging","width","offsetWidth","height","offsetHeight","treeImgData","toDataURL","treeAspectRatio","treeWidth","treeHeight","addImage","fecha","Date","toLocaleDateString","year","month","day","addPage","cardWidth","cardHeight","startX","setDrawColor","setLineWidth","roundedRect","total_votos","toString","votos_varon","votos_nina","porcentajeNino","Math","round","porcentajeNina","circle","comentariosValidos","filter","voto","comentario","trim","length","marginX","marginY","cardSpacing","currentRow","currentCol","pageCount","flagCache","Map","index","_voto$nombre","currentY","cardX","cardY","banderas","bandera","pais","nombreLimpio","nombre","nombreCompleto","prediccion","comentarioLimpio","lines","splitTextToSize","textHeight","startTextY","forEach","line","lineIndex","fechaTexto","isNaN","getTime","fechaVoto","horaVoto","toLocaleTimeString","hour","minute","error","console","log","foto_url","img","Image","crossOrigin","src","Promise","resolve","reject","onload","onerror","setTimeout","fotoSize","fotoX","fotoY","finalCardWidth","finalCardHeight","finalCardX","finalCardY","mensajeFinal","save","alert","button","onClick","disabled","whileHover","whileTap","style","background","color","border","borderRadius","padding","fontSize","fontWeight","cursor","marginTop","boxShadow","transition","opacity","children","display","alignItems","justifyContent","gap","borderTop","animation","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/devdisnovo/Documentos/PROYECTOS/merci/client/src/components/PDFGenerator.tsx"],"sourcesContent":["import React, { useRef } from 'react';\nimport jsPDF from 'jspdf';\nimport html2canvas from 'html2canvas';\nimport { motion } from 'framer-motion';\n\ninterface PDFGeneratorProps {\n  votos: any[];\n  estadisticas: any;\n  treeRef: React.RefObject<HTMLDivElement>;\n}\n\nconst PDFGenerator: React.FC<PDFGeneratorProps> = ({ votos, estadisticas, treeRef }) => {\n  const [generating, setGenering] = React.useState(false);\n\n  const generatePDF = async () => {\n    if (!treeRef.current) return;\n    \n    setGenering(true);\n    \n    try {\n      const pdf = new jsPDF('p', 'mm', 'a4');\n      const pageWidth = pdf.internal.pageSize.getWidth();\n      const pageHeight = pdf.internal.pageSize.getHeight();\n      \n      // Configurar fuentes modernas\n      pdf.setFont('helvetica');\n      \n      // Página 1: Portada con encabezado\n      pdf.setFillColor(248, 250, 252); // Fondo lavanda muy claro\n      pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n      \n      // Encabezado principal\n      pdf.setFontSize(24);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text('Arbol de Predicciones - Un Recuerdo Especial', pageWidth / 2, 30, { align: 'center' });\n      \n      // Capturar imagen del árbol\n      const treeCanvas = await html2canvas(treeRef.current, {\n        scale: 1.5,\n        useCORS: true,\n        allowTaint: true,\n        backgroundColor: '#ffffff',\n        logging: false,\n        width: treeRef.current.offsetWidth,\n        height: treeRef.current.offsetHeight\n      });\n      \n      const treeImgData = treeCanvas.toDataURL('image/png');\n      const treeAspectRatio = treeCanvas.width / treeCanvas.height;\n      const treeWidth = pageWidth - 40;\n      const treeHeight = treeWidth / treeAspectRatio;\n      \n      // Agregar imagen del árbol centrada\n      pdf.addImage(treeImgData, 'PNG', 20, 50, treeWidth, treeHeight);\n      \n      // Fecha de generación\n      pdf.setFontSize(12);\n      pdf.setTextColor(153, 153, 153);\n      pdf.setFont('helvetica', 'normal');\n      const fecha = new Date().toLocaleDateString('es-ES', {\n        year: 'numeric',\n        month: 'long',\n        day: 'numeric'\n      });\n      pdf.text(`Generado el ${fecha}`, pageWidth / 2, pageHeight - 20, { align: 'center' });\n      \n      // Página 2: Estadísticas en tarjetas modernas\n      pdf.addPage();\n      pdf.setFillColor(248, 250, 252);\n      pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n      \n      // Título de estadísticas\n      pdf.setFontSize(20);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text('Estadisticas de las Predicciones', pageWidth / 2, 30, { align: 'center' });\n      \n      // Dibujar tarjetas de estadísticas modernas\n      const cardWidth = 55;\n      const cardHeight = 35;\n      const startX = (pageWidth - (cardWidth * 3 + 20)) / 2;\n      \n      // Tarjeta Total\n      pdf.setFillColor(255, 255, 255);\n      pdf.setDrawColor(230, 230, 230);\n      pdf.setLineWidth(0.5);\n      pdf.roundedRect(startX, 50, cardWidth, cardHeight, 8, 8, 'FD');\n      pdf.setTextColor(102, 126, 234);\n      pdf.setFontSize(18);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(estadisticas.total_votos.toString(), startX + cardWidth/2, 65, { align: 'center' });\n      pdf.setFontSize(10);\n      pdf.setTextColor(102, 102, 102);\n      pdf.setFont('helvetica', 'normal');\n      pdf.text('Total Votos', startX + cardWidth/2, 75, { align: 'center' });\n      \n      // Tarjeta Niño\n      pdf.setFillColor(255, 255, 255);\n      pdf.roundedRect(startX + cardWidth + 10, 50, cardWidth, cardHeight, 8, 8, 'FD');\n      pdf.setTextColor(30, 64, 175);\n      pdf.setFontSize(18);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(estadisticas.votos_varon.toString(), startX + cardWidth + 10 + cardWidth/2, 65, { align: 'center' });\n      pdf.setFontSize(10);\n      pdf.setTextColor(102, 102, 102);\n      pdf.setFont('helvetica', 'normal');\n      pdf.text('Nino', startX + cardWidth + 10 + cardWidth/2, 75, { align: 'center' });\n      \n      // Tarjeta Niña\n      pdf.setFillColor(255, 255, 255);\n      pdf.roundedRect(startX + (cardWidth + 10) * 2, 50, cardWidth, cardHeight, 8, 8, 'FD');\n      pdf.setTextColor(190, 24, 93);\n      pdf.setFontSize(18);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(estadisticas.votos_nina.toString(), startX + (cardWidth + 10) * 2 + cardWidth/2, 65, { align: 'center' });\n      pdf.setFontSize(10);\n      pdf.setTextColor(102, 102, 102);\n      pdf.setFont('helvetica', 'normal');\n      pdf.text('Nina', startX + (cardWidth + 10) * 2 + cardWidth/2, 75, { align: 'center' });\n      \n      // Porcentajes en círculos pequeños\n      pdf.setFontSize(12);\n      const porcentajeNino = Math.round((estadisticas.votos_varon / estadisticas.total_votos) * 100);\n      const porcentajeNina = Math.round((estadisticas.votos_nina / estadisticas.total_votos) * 100);\n      \n      // Círculo para niño\n      pdf.setFillColor(212, 240, 247); // Celeste suave\n      pdf.circle(startX + cardWidth + 10 + cardWidth/2, 90, 8, 'F');\n      pdf.setTextColor(30, 64, 175);\n      pdf.setFontSize(10);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text(`${porcentajeNino}%`, startX + cardWidth + 10 + cardWidth/2, 93, { align: 'center' });\n      \n      // Círculo para niña\n      pdf.setFillColor(250, 218, 221); // Rosa suave\n      pdf.circle(startX + (cardWidth + 10) * 2 + cardWidth/2, 90, 8, 'F');\n      pdf.setTextColor(190, 24, 93);\n      pdf.text(`${porcentajeNina}%`, startX + (cardWidth + 10) * 2 + cardWidth/2, 93, { align: 'center' });\n      \n      // Filtrar comentarios válidos\n      const comentariosValidos = votos.filter(voto => \n        voto.comentario && \n        voto.comentario.trim().length > 0 && \n        voto.comentario.trim() !== 'undefined' &&\n        voto.comentario.trim() !== 'null'\n      );\n      \n      if (comentariosValidos.length > 0) {\n        // Página 3+: Comentarios en rejilla de 3 columnas\n        pdf.addPage();\n        pdf.setFillColor(248, 250, 252);\n        pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n        \n        // Título de la página\n        pdf.setFontSize(20);\n        pdf.setTextColor(51, 51, 51);\n        pdf.setFont('helvetica', 'bold');\n        pdf.text('Mensajes Especiales', pageWidth / 2, 25, { align: 'center' });\n        \n        // Configuración de la rejilla\n        const marginX = 15;\n        const marginY = 40;\n        const cardWidth = (pageWidth - (marginX * 2) - 20) / 3; // 3 columnas con espacio entre ellas\n        const cardHeight = 70; // Aumentado para más espacio\n        const cardSpacing = 10;\n        \n        let currentRow = 0;\n        let currentCol = 0;\n        let pageCount = 3;\n        \n        // Cache de banderas para evitar múltiples descargas\n        const flagCache = new Map<string, HTMLImageElement>();\n        \n        for (let index = 0; index < comentariosValidos.length; index++) {\n          const voto = comentariosValidos[index];\n          \n          // Verificar si necesitamos nueva página\n          const currentY = marginY + (currentRow * (cardHeight + cardSpacing));\n          if (currentY + cardHeight > pageHeight - 30) {\n            pdf.addPage();\n            pdf.setFillColor(248, 250, 252);\n            pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n            pdf.setFontSize(20);\n            pdf.setTextColor(51, 51, 51);\n            pdf.setFont('helvetica', 'bold');\n            pdf.text(`Mensajes Especiales (Pagina ${pageCount})`, pageWidth / 2, 25, { align: 'center' });\n            currentRow = 0;\n            currentCol = 0;\n            pageCount++;\n          }\n          \n          const cardX = marginX + (currentCol * (cardWidth + 10));\n          const cardY = marginY + (currentRow * (cardHeight + cardSpacing));\n          \n          // Dibujar card con estilo moderno\n          pdf.setFillColor(255, 255, 255);\n          pdf.setDrawColor(230, 230, 230);\n          pdf.setLineWidth(0.5);\n          pdf.roundedRect(cardX, cardY, cardWidth, cardHeight, 8, 8, 'FD');\n          \n          // Agregar sombra sutil (simulada con borde más oscuro)\n          pdf.setDrawColor(200, 200, 200);\n          pdf.setLineWidth(0.3);\n          pdf.roundedRect(cardX + 1, cardY + 1, cardWidth, cardHeight, 8, 8, 'S');\n          \n          // Banderas reales\n          const banderas: { [key: string]: string } = {\n            'AR': '🇦🇷', 'BO': '🇧🇴', 'BR': '🇧🇷', 'CL': '🇨🇱', 'CO': '🇨🇴', 'CR': '🇨🇷', 'CU': '🇨🇺', 'DO': '🇩🇴', 'EC': '🇪🇨', 'SV': '🇸🇻',\n            'ES': '🇪🇸', 'GT': '🇬🇹', 'HN': '🇭🇳', 'MX': '🇲🇽', 'NI': '🇳🇮', 'PA': '🇵🇦', 'PY': '🇵🇾', 'PE': '🇵🇪', 'PR': '🇵🇷', 'UY': '🇺🇾',\n            'VE': '🇻🇪', 'US': '🇺🇸', 'CA': '🇨🇦', 'FR': '🇫🇷', 'DE': '🇩🇪', 'IT': '🇮🇹', 'GB': '🇬🇧', 'AU': '🇦🇺', 'NZ': '🇳🇿', 'JP': '🇯🇵',\n            'CN': '🇨🇳', 'IN': '🇮🇳', 'RU': '🇷🇺', 'OT': '🌍'\n          };\n          const bandera = banderas[voto.pais] || '🌍';\n          \n          // Limpiar y validar el nombre\n          let nombreLimpio = voto.nombre?.toString().trim() || 'Anonimo';\n          nombreLimpio = nombreLimpio.toString().trim();\n          if (nombreLimpio === 'undefined' || nombreLimpio === 'null') {\n            nombreLimpio = 'Anonimo';\n          }\n          \n          // Nombre y bandera (título)\n          pdf.setFontSize(11);\n          pdf.setTextColor(51, 51, 51);\n          pdf.setFont('helvetica', 'bold');\n          const nombreCompleto = `${bandera} ${nombreLimpio}`;\n          pdf.text(nombreCompleto, cardX + 8, cardY + 12);\n          \n          // Etiqueta de género (subtítulo)\n          pdf.setFontSize(9);\n          pdf.setFont('helvetica', 'normal');\n          \n          if (voto.prediccion === 'varon') {\n            // Etiqueta celeste para niño\n            pdf.setFillColor(212, 240, 247); // Celeste suave\n            pdf.roundedRect(cardX + 8, cardY + 20, 25, 8, 4, 4, 'F');\n            pdf.setTextColor(30, 64, 175);\n            pdf.text('Nino', cardX + 12, cardY + 25);\n          } else {\n            // Etiqueta rosa para niña\n            pdf.setFillColor(250, 218, 221); // Rosa suave\n            pdf.roundedRect(cardX + 8, cardY + 20, 25, 8, 4, 4, 'F');\n            pdf.setTextColor(190, 24, 93);\n            pdf.text('Nina', cardX + 12, cardY + 25);\n          }\n          \n          // Limpiar y validar el comentario\n          let comentarioLimpio = voto.comentario || 'Sin comentario';\n          comentarioLimpio = comentarioLimpio.toString().trim();\n          if (comentarioLimpio === 'undefined' || comentarioLimpio === 'null') {\n            comentarioLimpio = 'Sin comentario';\n          }\n          \n          // Comentario centrado\n          pdf.setFontSize(8);\n          pdf.setTextColor(51, 51, 51);\n          pdf.setFont('helvetica', 'normal');\n          \n          const comentario = `\"${comentarioLimpio}\"`;\n          const lines = pdf.splitTextToSize(comentario, cardWidth - 16);\n          \n          // Centrar el texto verticalmente en el espacio restante\n          const textHeight = lines.length * 3.5;\n          const startTextY = cardY + 35 + (cardHeight - 35 - textHeight - 15) / 2; // Dejar espacio para fecha\n          \n          lines.forEach((line: string, lineIndex: number) => {\n            pdf.text(line, cardX + 8, startTextY + (lineIndex * 3.5), { align: 'center' });\n          });\n          \n          // Fecha en la parte inferior - MEJORADA\n          pdf.setFontSize(7);\n          pdf.setTextColor(153, 153, 153);\n          \n          // Manejar fechas de forma segura\n          let fechaTexto = 'Fecha no disponible';\n          try {\n            if (voto.fecha) {\n              const fecha = new Date(voto.fecha);\n              if (!isNaN(fecha.getTime())) {\n                const fechaVoto = fecha.toLocaleDateString('es-ES', {\n                  day: 'numeric',\n                  month: 'short',\n                  year: 'numeric'\n                });\n                const horaVoto = fecha.toLocaleTimeString('es-ES', {\n                  hour: '2-digit',\n                  minute: '2-digit'\n                });\n                fechaTexto = `${fechaVoto}, ${horaVoto}`;\n              }\n            }\n          } catch (error) {\n            console.log('Error procesando fecha:', voto.fecha);\n          }\n          \n          pdf.text(fechaTexto, cardX + 8, cardY + cardHeight - 8);\n          \n          // Intentar cargar foto si existe - FOTO CIRCULAR\n          if (voto.foto_url) {\n            try {\n              const img = new Image();\n              img.crossOrigin = 'anonymous';\n              img.src = `http://192.168.18.49:5000${voto.foto_url}`;\n              \n              await new Promise((resolve, reject) => {\n                img.onload = resolve;\n                img.onerror = reject;\n                setTimeout(reject, 3000);\n              });\n              \n              // Crear foto circular en la esquina superior derecha\n              const fotoSize = 20;\n              const fotoX = cardX + cardWidth - fotoSize - 5;\n              const fotoY = cardY + 5;\n              \n              // Fondo circular blanco\n              pdf.setFillColor(255, 255, 255);\n              pdf.circle(fotoX + fotoSize/2, fotoY + fotoSize/2, fotoSize/2, 'F');\n              \n              // Borde circular\n              pdf.setDrawColor(230, 230, 230);\n              pdf.setLineWidth(0.5);\n              pdf.circle(fotoX + fotoSize/2, fotoY + fotoSize/2, fotoSize/2, 'S');\n              \n              // Agregar la imagen (se recortará automáticamente al círculo)\n              pdf.addImage(img, 'JPEG', fotoX, fotoY, fotoSize, fotoSize);\n              \n            } catch (error) {\n              console.log('No se pudo cargar la foto:', voto.foto_url);\n              \n              // Placeholder circular si no se puede cargar la foto\n              pdf.setFillColor(229, 231, 235);\n              pdf.circle(cardX + cardWidth - 15, cardY + 15, 10, 'F');\n              pdf.setDrawColor(209, 213, 219);\n              pdf.setLineWidth(0.5);\n              pdf.circle(cardX + cardWidth - 15, cardY + 15, 10, 'S');\n            }\n          }\n          \n          // Avanzar a la siguiente posición en la rejilla\n          currentCol++;\n          if (currentCol >= 3) {\n            currentCol = 0;\n            currentRow++;\n          }\n        }\n      }\n      \n      // Página final: Mensaje especial destacado\n      pdf.addPage();\n      pdf.setFillColor(248, 250, 252);\n      pdf.rect(0, 0, pageWidth, pageHeight, 'F');\n      \n      // Título principal\n      pdf.setFontSize(24);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'bold');\n      pdf.text('¡Felicidades Futuros Padres!', pageWidth / 2, 50, { align: 'center' });\n      \n      // Card destacada para el mensaje final\n      const finalCardWidth = pageWidth - 40;\n      const finalCardHeight = 120;\n      const finalCardX = 20;\n      const finalCardY = 70;\n      \n      // Fondo de la card con gradiente (simulado)\n      pdf.setFillColor(255, 255, 255);\n      pdf.setDrawColor(230, 230, 230);\n      pdf.setLineWidth(1);\n      pdf.roundedRect(finalCardX, finalCardY, finalCardWidth, finalCardHeight, 12, 12, 'FD');\n      \n      // Borde decorativo\n      pdf.setDrawColor(102, 126, 234);\n      pdf.setLineWidth(2);\n      pdf.roundedRect(finalCardX, finalCardY, finalCardWidth, finalCardHeight, 12, 12, 'S');\n      \n      // Mensaje final\n      pdf.setFontSize(14);\n      pdf.setTextColor(51, 51, 51);\n      pdf.setFont('helvetica', 'normal');\n      \n      const mensajeFinal = [\n        'Este arbol representa el amor y las buenas vibras que',\n        'toda su familia y amigos tienen para ustedes.',\n        '',\n        'Cada hoja es una prediccion llena de carino y',\n        'esperanza para el nuevo miembro de la familia.',\n        '',\n        '¡Que este bebe traiga mucha alegria y bendiciones',\n        'a sus vidas!'\n      ];\n      \n      mensajeFinal.forEach((line, index) => {\n        if (line.trim() !== '') {\n          pdf.text(line, pageWidth / 2, finalCardY + 25 + (index * 12), { align: 'center' });\n        }\n      });\n      \n      // Firma o sello final\n      pdf.setFontSize(12);\n      pdf.setTextColor(102, 126, 234);\n      pdf.setFont('helvetica', 'italic');\n      pdf.text('Con mucho amor y buenos deseos', pageWidth / 2, finalCardY + finalCardHeight + 20, { align: 'center' });\n      \n      // Guardar el PDF\n      pdf.save('arbol-predicciones-recuerdo-especial.pdf');\n      \n    } catch (error) {\n      console.error('Error generando PDF:', error);\n      alert('Error al generar el PDF. Inténtalo de nuevo.');\n    } finally {\n      setGenering(false);\n    }\n  };\n\n  return (\n    <motion.button\n      onClick={generatePDF}\n      disabled={generating}\n      whileHover={{ scale: 1.05 }}\n      whileTap={{ scale: 0.95 }}\n      style={{\n        background: 'linear-gradient(135deg, #667eea 0%, #764ba2 100%)',\n        color: 'white',\n        border: 'none',\n        borderRadius: '15px',\n        padding: '18px 30px',\n        fontSize: '1.1rem',\n        fontWeight: '600',\n        cursor: generating ? 'not-allowed' : 'pointer',\n        width: '100%',\n        marginTop: '20px',\n        boxShadow: '0 4px 15px rgba(102, 126, 234, 0.4)',\n        transition: 'all 0.3s ease',\n        opacity: generating ? 0.7 : 1\n      }}\n    >\n      {generating ? (\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '10px' }}>\n          <div style={{ \n            width: '20px', \n            height: '20px', \n            border: '2px solid rgba(255,255,255,0.3)', \n            borderTop: '2px solid white', \n            borderRadius: '50%', \n            animation: 'spin 1s linear infinite' \n          }} />\n          Generando recuerdo especial...\n        </div>\n      ) : (\n        <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'center', gap: '10px' }}>\n          <span style={{ fontSize: '1.3rem' }}>📄</span>\n          <span>Crear Recuerdo Especial</span>\n        </div>\n      )}\n    </motion.button>\n  );\n};\n\nexport default PDFGenerator; "],"mappings":";;AAAA,OAAOA,KAAK,MAAkB,OAAO;AACrC,OAAOC,KAAK,MAAM,OAAO;AACzB,OAAOC,WAAW,MAAM,aAAa;AACrC,SAASC,MAAM,QAAQ,eAAe;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAQvC,MAAMC,YAAyC,GAAGA,CAAC;EAAEC,KAAK;EAAEC,YAAY;EAAEC;AAAQ,CAAC,KAAK;EAAAC,EAAA;EACtF,MAAM,CAACC,UAAU,EAAEC,WAAW,CAAC,GAAGZ,KAAK,CAACa,QAAQ,CAAC,KAAK,CAAC;EAEvD,MAAMC,WAAW,GAAG,MAAAA,CAAA,KAAY;IAC9B,IAAI,CAACL,OAAO,CAACM,OAAO,EAAE;IAEtBH,WAAW,CAAC,IAAI,CAAC;IAEjB,IAAI;MACF,MAAMI,GAAG,GAAG,IAAIf,KAAK,CAAC,GAAG,EAAE,IAAI,EAAE,IAAI,CAAC;MACtC,MAAMgB,SAAS,GAAGD,GAAG,CAACE,QAAQ,CAACC,QAAQ,CAACC,QAAQ,CAAC,CAAC;MAClD,MAAMC,UAAU,GAAGL,GAAG,CAACE,QAAQ,CAACC,QAAQ,CAACG,SAAS,CAAC,CAAC;;MAEpD;MACAN,GAAG,CAACO,OAAO,CAAC,WAAW,CAAC;;MAExB;MACAP,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;MACjCR,GAAG,CAACS,IAAI,CAAC,CAAC,EAAE,CAAC,EAAER,SAAS,EAAEI,UAAU,EAAE,GAAG,CAAC;;MAE1C;MACAL,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnBV,GAAG,CAACW,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;MAC5BX,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC;MAChCP,GAAG,CAACY,IAAI,CAAC,8CAA8C,EAAEX,SAAS,GAAG,CAAC,EAAE,EAAE,EAAE;QAAEY,KAAK,EAAE;MAAS,CAAC,CAAC;;MAEhG;MACA,MAAMC,UAAU,GAAG,MAAM5B,WAAW,CAACO,OAAO,CAACM,OAAO,EAAE;QACpDgB,KAAK,EAAE,GAAG;QACVC,OAAO,EAAE,IAAI;QACbC,UAAU,EAAE,IAAI;QAChBC,eAAe,EAAE,SAAS;QAC1BC,OAAO,EAAE,KAAK;QACdC,KAAK,EAAE3B,OAAO,CAACM,OAAO,CAACsB,WAAW;QAClCC,MAAM,EAAE7B,OAAO,CAACM,OAAO,CAACwB;MAC1B,CAAC,CAAC;MAEF,MAAMC,WAAW,GAAGV,UAAU,CAACW,SAAS,CAAC,WAAW,CAAC;MACrD,MAAMC,eAAe,GAAGZ,UAAU,CAACM,KAAK,GAAGN,UAAU,CAACQ,MAAM;MAC5D,MAAMK,SAAS,GAAG1B,SAAS,GAAG,EAAE;MAChC,MAAM2B,UAAU,GAAGD,SAAS,GAAGD,eAAe;;MAE9C;MACA1B,GAAG,CAAC6B,QAAQ,CAACL,WAAW,EAAE,KAAK,EAAE,EAAE,EAAE,EAAE,EAAEG,SAAS,EAAEC,UAAU,CAAC;;MAE/D;MACA5B,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnBV,GAAG,CAACW,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BX,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC;MAClC,MAAMuB,KAAK,GAAG,IAAIC,IAAI,CAAC,CAAC,CAACC,kBAAkB,CAAC,OAAO,EAAE;QACnDC,IAAI,EAAE,SAAS;QACfC,KAAK,EAAE,MAAM;QACbC,GAAG,EAAE;MACP,CAAC,CAAC;MACFnC,GAAG,CAACY,IAAI,CAAC,eAAekB,KAAK,EAAE,EAAE7B,SAAS,GAAG,CAAC,EAAEI,UAAU,GAAG,EAAE,EAAE;QAAEQ,KAAK,EAAE;MAAS,CAAC,CAAC;;MAErF;MACAb,GAAG,CAACoC,OAAO,CAAC,CAAC;MACbpC,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BR,GAAG,CAACS,IAAI,CAAC,CAAC,EAAE,CAAC,EAAER,SAAS,EAAEI,UAAU,EAAE,GAAG,CAAC;;MAE1C;MACAL,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnBV,GAAG,CAACW,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;MAC5BX,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC;MAChCP,GAAG,CAACY,IAAI,CAAC,kCAAkC,EAAEX,SAAS,GAAG,CAAC,EAAE,EAAE,EAAE;QAAEY,KAAK,EAAE;MAAS,CAAC,CAAC;;MAEpF;MACA,MAAMwB,SAAS,GAAG,EAAE;MACpB,MAAMC,UAAU,GAAG,EAAE;MACrB,MAAMC,MAAM,GAAG,CAACtC,SAAS,IAAIoC,SAAS,GAAG,CAAC,GAAG,EAAE,CAAC,IAAI,CAAC;;MAErD;MACArC,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BR,GAAG,CAACwC,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BxC,GAAG,CAACyC,YAAY,CAAC,GAAG,CAAC;MACrBzC,GAAG,CAAC0C,WAAW,CAACH,MAAM,EAAE,EAAE,EAAEF,SAAS,EAAEC,UAAU,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;MAC9DtC,GAAG,CAACW,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BX,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnBV,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC;MAChCP,GAAG,CAACY,IAAI,CAACpB,YAAY,CAACmD,WAAW,CAACC,QAAQ,CAAC,CAAC,EAAEL,MAAM,GAAGF,SAAS,GAAC,CAAC,EAAE,EAAE,EAAE;QAAExB,KAAK,EAAE;MAAS,CAAC,CAAC;MAC5Fb,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnBV,GAAG,CAACW,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BX,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC;MAClCP,GAAG,CAACY,IAAI,CAAC,aAAa,EAAE2B,MAAM,GAAGF,SAAS,GAAC,CAAC,EAAE,EAAE,EAAE;QAAExB,KAAK,EAAE;MAAS,CAAC,CAAC;;MAEtE;MACAb,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BR,GAAG,CAAC0C,WAAW,CAACH,MAAM,GAAGF,SAAS,GAAG,EAAE,EAAE,EAAE,EAAEA,SAAS,EAAEC,UAAU,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;MAC/EtC,GAAG,CAACW,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;MAC7BX,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnBV,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC;MAChCP,GAAG,CAACY,IAAI,CAACpB,YAAY,CAACqD,WAAW,CAACD,QAAQ,CAAC,CAAC,EAAEL,MAAM,GAAGF,SAAS,GAAG,EAAE,GAAGA,SAAS,GAAC,CAAC,EAAE,EAAE,EAAE;QAAExB,KAAK,EAAE;MAAS,CAAC,CAAC;MAC7Gb,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnBV,GAAG,CAACW,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BX,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC;MAClCP,GAAG,CAACY,IAAI,CAAC,MAAM,EAAE2B,MAAM,GAAGF,SAAS,GAAG,EAAE,GAAGA,SAAS,GAAC,CAAC,EAAE,EAAE,EAAE;QAAExB,KAAK,EAAE;MAAS,CAAC,CAAC;;MAEhF;MACAb,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BR,GAAG,CAAC0C,WAAW,CAACH,MAAM,GAAG,CAACF,SAAS,GAAG,EAAE,IAAI,CAAC,EAAE,EAAE,EAAEA,SAAS,EAAEC,UAAU,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;MACrFtC,GAAG,CAACW,YAAY,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC;MAC7BX,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnBV,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC;MAChCP,GAAG,CAACY,IAAI,CAACpB,YAAY,CAACsD,UAAU,CAACF,QAAQ,CAAC,CAAC,EAAEL,MAAM,GAAG,CAACF,SAAS,GAAG,EAAE,IAAI,CAAC,GAAGA,SAAS,GAAC,CAAC,EAAE,EAAE,EAAE;QAAExB,KAAK,EAAE;MAAS,CAAC,CAAC;MAClHb,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnBV,GAAG,CAACW,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BX,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC;MAClCP,GAAG,CAACY,IAAI,CAAC,MAAM,EAAE2B,MAAM,GAAG,CAACF,SAAS,GAAG,EAAE,IAAI,CAAC,GAAGA,SAAS,GAAC,CAAC,EAAE,EAAE,EAAE;QAAExB,KAAK,EAAE;MAAS,CAAC,CAAC;;MAEtF;MACAb,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnB,MAAMqC,cAAc,GAAGC,IAAI,CAACC,KAAK,CAAEzD,YAAY,CAACqD,WAAW,GAAGrD,YAAY,CAACmD,WAAW,GAAI,GAAG,CAAC;MAC9F,MAAMO,cAAc,GAAGF,IAAI,CAACC,KAAK,CAAEzD,YAAY,CAACsD,UAAU,GAAGtD,YAAY,CAACmD,WAAW,GAAI,GAAG,CAAC;;MAE7F;MACA3C,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;MACjCR,GAAG,CAACmD,MAAM,CAACZ,MAAM,GAAGF,SAAS,GAAG,EAAE,GAAGA,SAAS,GAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC;MAC7DrC,GAAG,CAACW,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;MAC7BX,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnBV,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC;MAChCP,GAAG,CAACY,IAAI,CAAC,GAAGmC,cAAc,GAAG,EAAER,MAAM,GAAGF,SAAS,GAAG,EAAE,GAAGA,SAAS,GAAC,CAAC,EAAE,EAAE,EAAE;QAAExB,KAAK,EAAE;MAAS,CAAC,CAAC;;MAE9F;MACAb,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;MACjCR,GAAG,CAACmD,MAAM,CAACZ,MAAM,GAAG,CAACF,SAAS,GAAG,EAAE,IAAI,CAAC,GAAGA,SAAS,GAAC,CAAC,EAAE,EAAE,EAAE,CAAC,EAAE,GAAG,CAAC;MACnErC,GAAG,CAACW,YAAY,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC;MAC7BX,GAAG,CAACY,IAAI,CAAC,GAAGsC,cAAc,GAAG,EAAEX,MAAM,GAAG,CAACF,SAAS,GAAG,EAAE,IAAI,CAAC,GAAGA,SAAS,GAAC,CAAC,EAAE,EAAE,EAAE;QAAExB,KAAK,EAAE;MAAS,CAAC,CAAC;;MAEpG;MACA,MAAMuC,kBAAkB,GAAG7D,KAAK,CAAC8D,MAAM,CAACC,IAAI,IAC1CA,IAAI,CAACC,UAAU,IACfD,IAAI,CAACC,UAAU,CAACC,IAAI,CAAC,CAAC,CAACC,MAAM,GAAG,CAAC,IACjCH,IAAI,CAACC,UAAU,CAACC,IAAI,CAAC,CAAC,KAAK,WAAW,IACtCF,IAAI,CAACC,UAAU,CAACC,IAAI,CAAC,CAAC,KAAK,MAC7B,CAAC;MAED,IAAIJ,kBAAkB,CAACK,MAAM,GAAG,CAAC,EAAE;QACjC;QACAzD,GAAG,CAACoC,OAAO,CAAC,CAAC;QACbpC,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;QAC/BR,GAAG,CAACS,IAAI,CAAC,CAAC,EAAE,CAAC,EAAER,SAAS,EAAEI,UAAU,EAAE,GAAG,CAAC;;QAE1C;QACAL,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;QACnBV,GAAG,CAACW,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;QAC5BX,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC;QAChCP,GAAG,CAACY,IAAI,CAAC,qBAAqB,EAAEX,SAAS,GAAG,CAAC,EAAE,EAAE,EAAE;UAAEY,KAAK,EAAE;QAAS,CAAC,CAAC;;QAEvE;QACA,MAAM6C,OAAO,GAAG,EAAE;QAClB,MAAMC,OAAO,GAAG,EAAE;QAClB,MAAMtB,SAAS,GAAG,CAACpC,SAAS,GAAIyD,OAAO,GAAG,CAAE,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;QACxD,MAAMpB,UAAU,GAAG,EAAE,CAAC,CAAC;QACvB,MAAMsB,WAAW,GAAG,EAAE;QAEtB,IAAIC,UAAU,GAAG,CAAC;QAClB,IAAIC,UAAU,GAAG,CAAC;QAClB,IAAIC,SAAS,GAAG,CAAC;;QAEjB;QACA,MAAMC,SAAS,GAAG,IAAIC,GAAG,CAA2B,CAAC;QAErD,KAAK,IAAIC,KAAK,GAAG,CAAC,EAAEA,KAAK,GAAGd,kBAAkB,CAACK,MAAM,EAAES,KAAK,EAAE,EAAE;UAAA,IAAAC,YAAA;UAC9D,MAAMb,IAAI,GAAGF,kBAAkB,CAACc,KAAK,CAAC;;UAEtC;UACA,MAAME,QAAQ,GAAGT,OAAO,GAAIE,UAAU,IAAIvB,UAAU,GAAGsB,WAAW,CAAE;UACpE,IAAIQ,QAAQ,GAAG9B,UAAU,GAAGjC,UAAU,GAAG,EAAE,EAAE;YAC3CL,GAAG,CAACoC,OAAO,CAAC,CAAC;YACbpC,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;YAC/BR,GAAG,CAACS,IAAI,CAAC,CAAC,EAAE,CAAC,EAAER,SAAS,EAAEI,UAAU,EAAE,GAAG,CAAC;YAC1CL,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;YACnBV,GAAG,CAACW,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;YAC5BX,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC;YAChCP,GAAG,CAACY,IAAI,CAAC,+BAA+BmD,SAAS,GAAG,EAAE9D,SAAS,GAAG,CAAC,EAAE,EAAE,EAAE;cAAEY,KAAK,EAAE;YAAS,CAAC,CAAC;YAC7FgD,UAAU,GAAG,CAAC;YACdC,UAAU,GAAG,CAAC;YACdC,SAAS,EAAE;UACb;UAEA,MAAMM,KAAK,GAAGX,OAAO,GAAII,UAAU,IAAIzB,SAAS,GAAG,EAAE,CAAE;UACvD,MAAMiC,KAAK,GAAGX,OAAO,GAAIE,UAAU,IAAIvB,UAAU,GAAGsB,WAAW,CAAE;;UAEjE;UACA5D,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;UAC/BR,GAAG,CAACwC,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;UAC/BxC,GAAG,CAACyC,YAAY,CAAC,GAAG,CAAC;UACrBzC,GAAG,CAAC0C,WAAW,CAAC2B,KAAK,EAAEC,KAAK,EAAEjC,SAAS,EAAEC,UAAU,EAAE,CAAC,EAAE,CAAC,EAAE,IAAI,CAAC;;UAEhE;UACAtC,GAAG,CAACwC,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;UAC/BxC,GAAG,CAACyC,YAAY,CAAC,GAAG,CAAC;UACrBzC,GAAG,CAAC0C,WAAW,CAAC2B,KAAK,GAAG,CAAC,EAAEC,KAAK,GAAG,CAAC,EAAEjC,SAAS,EAAEC,UAAU,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC;;UAEvE;UACA,MAAMiC,QAAmC,GAAG;YAC1C,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAC1I,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAC1I,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAC1I,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE,MAAM;YAAE,IAAI,EAAE;UAClD,CAAC;UACD,MAAMC,OAAO,GAAGD,QAAQ,CAACjB,IAAI,CAACmB,IAAI,CAAC,IAAI,IAAI;;UAE3C;UACA,IAAIC,YAAY,GAAG,EAAAP,YAAA,GAAAb,IAAI,CAACqB,MAAM,cAAAR,YAAA,uBAAXA,YAAA,CAAavB,QAAQ,CAAC,CAAC,CAACY,IAAI,CAAC,CAAC,KAAI,SAAS;UAC9DkB,YAAY,GAAGA,YAAY,CAAC9B,QAAQ,CAAC,CAAC,CAACY,IAAI,CAAC,CAAC;UAC7C,IAAIkB,YAAY,KAAK,WAAW,IAAIA,YAAY,KAAK,MAAM,EAAE;YAC3DA,YAAY,GAAG,SAAS;UAC1B;;UAEA;UACA1E,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;UACnBV,GAAG,CAACW,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;UAC5BX,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC;UAChC,MAAMqE,cAAc,GAAG,GAAGJ,OAAO,IAAIE,YAAY,EAAE;UACnD1E,GAAG,CAACY,IAAI,CAACgE,cAAc,EAAEP,KAAK,GAAG,CAAC,EAAEC,KAAK,GAAG,EAAE,CAAC;;UAE/C;UACAtE,GAAG,CAACU,WAAW,CAAC,CAAC,CAAC;UAClBV,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC;UAElC,IAAI+C,IAAI,CAACuB,UAAU,KAAK,OAAO,EAAE;YAC/B;YACA7E,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YACjCR,GAAG,CAAC0C,WAAW,CAAC2B,KAAK,GAAG,CAAC,EAAEC,KAAK,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC;YACxDtE,GAAG,CAACW,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;YAC7BX,GAAG,CAACY,IAAI,CAAC,MAAM,EAAEyD,KAAK,GAAG,EAAE,EAAEC,KAAK,GAAG,EAAE,CAAC;UAC1C,CAAC,MAAM;YACL;YACAtE,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC,CAAC,CAAC;YACjCR,GAAG,CAAC0C,WAAW,CAAC2B,KAAK,GAAG,CAAC,EAAEC,KAAK,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC,EAAE,CAAC,EAAE,CAAC,EAAE,GAAG,CAAC;YACxDtE,GAAG,CAACW,YAAY,CAAC,GAAG,EAAE,EAAE,EAAE,EAAE,CAAC;YAC7BX,GAAG,CAACY,IAAI,CAAC,MAAM,EAAEyD,KAAK,GAAG,EAAE,EAAEC,KAAK,GAAG,EAAE,CAAC;UAC1C;;UAEA;UACA,IAAIQ,gBAAgB,GAAGxB,IAAI,CAACC,UAAU,IAAI,gBAAgB;UAC1DuB,gBAAgB,GAAGA,gBAAgB,CAAClC,QAAQ,CAAC,CAAC,CAACY,IAAI,CAAC,CAAC;UACrD,IAAIsB,gBAAgB,KAAK,WAAW,IAAIA,gBAAgB,KAAK,MAAM,EAAE;YACnEA,gBAAgB,GAAG,gBAAgB;UACrC;;UAEA;UACA9E,GAAG,CAACU,WAAW,CAAC,CAAC,CAAC;UAClBV,GAAG,CAACW,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;UAC5BX,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC;UAElC,MAAMgD,UAAU,GAAG,IAAIuB,gBAAgB,GAAG;UAC1C,MAAMC,KAAK,GAAG/E,GAAG,CAACgF,eAAe,CAACzB,UAAU,EAAElB,SAAS,GAAG,EAAE,CAAC;;UAE7D;UACA,MAAM4C,UAAU,GAAGF,KAAK,CAACtB,MAAM,GAAG,GAAG;UACrC,MAAMyB,UAAU,GAAGZ,KAAK,GAAG,EAAE,GAAG,CAAChC,UAAU,GAAG,EAAE,GAAG2C,UAAU,GAAG,EAAE,IAAI,CAAC,CAAC,CAAC;;UAEzEF,KAAK,CAACI,OAAO,CAAC,CAACC,IAAY,EAAEC,SAAiB,KAAK;YACjDrF,GAAG,CAACY,IAAI,CAACwE,IAAI,EAAEf,KAAK,GAAG,CAAC,EAAEa,UAAU,GAAIG,SAAS,GAAG,GAAI,EAAE;cAAExE,KAAK,EAAE;YAAS,CAAC,CAAC;UAChF,CAAC,CAAC;;UAEF;UACAb,GAAG,CAACU,WAAW,CAAC,CAAC,CAAC;UAClBV,GAAG,CAACW,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;;UAE/B;UACA,IAAI2E,UAAU,GAAG,qBAAqB;UACtC,IAAI;YACF,IAAIhC,IAAI,CAACxB,KAAK,EAAE;cACd,MAAMA,KAAK,GAAG,IAAIC,IAAI,CAACuB,IAAI,CAACxB,KAAK,CAAC;cAClC,IAAI,CAACyD,KAAK,CAACzD,KAAK,CAAC0D,OAAO,CAAC,CAAC,CAAC,EAAE;gBAC3B,MAAMC,SAAS,GAAG3D,KAAK,CAACE,kBAAkB,CAAC,OAAO,EAAE;kBAClDG,GAAG,EAAE,SAAS;kBACdD,KAAK,EAAE,OAAO;kBACdD,IAAI,EAAE;gBACR,CAAC,CAAC;gBACF,MAAMyD,QAAQ,GAAG5D,KAAK,CAAC6D,kBAAkB,CAAC,OAAO,EAAE;kBACjDC,IAAI,EAAE,SAAS;kBACfC,MAAM,EAAE;gBACV,CAAC,CAAC;gBACFP,UAAU,GAAG,GAAGG,SAAS,KAAKC,QAAQ,EAAE;cAC1C;YACF;UACF,CAAC,CAAC,OAAOI,KAAK,EAAE;YACdC,OAAO,CAACC,GAAG,CAAC,yBAAyB,EAAE1C,IAAI,CAACxB,KAAK,CAAC;UACpD;UAEA9B,GAAG,CAACY,IAAI,CAAC0E,UAAU,EAAEjB,KAAK,GAAG,CAAC,EAAEC,KAAK,GAAGhC,UAAU,GAAG,CAAC,CAAC;;UAEvD;UACA,IAAIgB,IAAI,CAAC2C,QAAQ,EAAE;YACjB,IAAI;cACF,MAAMC,GAAG,GAAG,IAAIC,KAAK,CAAC,CAAC;cACvBD,GAAG,CAACE,WAAW,GAAG,WAAW;cAC7BF,GAAG,CAACG,GAAG,GAAG,4BAA4B/C,IAAI,CAAC2C,QAAQ,EAAE;cAErD,MAAM,IAAIK,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;gBACrCN,GAAG,CAACO,MAAM,GAAGF,OAAO;gBACpBL,GAAG,CAACQ,OAAO,GAAGF,MAAM;gBACpBG,UAAU,CAACH,MAAM,EAAE,IAAI,CAAC;cAC1B,CAAC,CAAC;;cAEF;cACA,MAAMI,QAAQ,GAAG,EAAE;cACnB,MAAMC,KAAK,GAAGxC,KAAK,GAAGhC,SAAS,GAAGuE,QAAQ,GAAG,CAAC;cAC9C,MAAME,KAAK,GAAGxC,KAAK,GAAG,CAAC;;cAEvB;cACAtE,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;cAC/BR,GAAG,CAACmD,MAAM,CAAC0D,KAAK,GAAGD,QAAQ,GAAC,CAAC,EAAEE,KAAK,GAAGF,QAAQ,GAAC,CAAC,EAAEA,QAAQ,GAAC,CAAC,EAAE,GAAG,CAAC;;cAEnE;cACA5G,GAAG,CAACwC,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;cAC/BxC,GAAG,CAACyC,YAAY,CAAC,GAAG,CAAC;cACrBzC,GAAG,CAACmD,MAAM,CAAC0D,KAAK,GAAGD,QAAQ,GAAC,CAAC,EAAEE,KAAK,GAAGF,QAAQ,GAAC,CAAC,EAAEA,QAAQ,GAAC,CAAC,EAAE,GAAG,CAAC;;cAEnE;cACA5G,GAAG,CAAC6B,QAAQ,CAACqE,GAAG,EAAE,MAAM,EAAEW,KAAK,EAAEC,KAAK,EAAEF,QAAQ,EAAEA,QAAQ,CAAC;YAE7D,CAAC,CAAC,OAAOd,KAAK,EAAE;cACdC,OAAO,CAACC,GAAG,CAAC,4BAA4B,EAAE1C,IAAI,CAAC2C,QAAQ,CAAC;;cAExD;cACAjG,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;cAC/BR,GAAG,CAACmD,MAAM,CAACkB,KAAK,GAAGhC,SAAS,GAAG,EAAE,EAAEiC,KAAK,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;cACvDtE,GAAG,CAACwC,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;cAC/BxC,GAAG,CAACyC,YAAY,CAAC,GAAG,CAAC;cACrBzC,GAAG,CAACmD,MAAM,CAACkB,KAAK,GAAGhC,SAAS,GAAG,EAAE,EAAEiC,KAAK,GAAG,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;YACzD;UACF;;UAEA;UACAR,UAAU,EAAE;UACZ,IAAIA,UAAU,IAAI,CAAC,EAAE;YACnBA,UAAU,GAAG,CAAC;YACdD,UAAU,EAAE;UACd;QACF;MACF;;MAEA;MACA7D,GAAG,CAACoC,OAAO,CAAC,CAAC;MACbpC,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BR,GAAG,CAACS,IAAI,CAAC,CAAC,EAAE,CAAC,EAAER,SAAS,EAAEI,UAAU,EAAE,GAAG,CAAC;;MAE1C;MACAL,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnBV,GAAG,CAACW,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;MAC5BX,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,MAAM,CAAC;MAChCP,GAAG,CAACY,IAAI,CAAC,8BAA8B,EAAEX,SAAS,GAAG,CAAC,EAAE,EAAE,EAAE;QAAEY,KAAK,EAAE;MAAS,CAAC,CAAC;;MAEhF;MACA,MAAMkG,cAAc,GAAG9G,SAAS,GAAG,EAAE;MACrC,MAAM+G,eAAe,GAAG,GAAG;MAC3B,MAAMC,UAAU,GAAG,EAAE;MACrB,MAAMC,UAAU,GAAG,EAAE;;MAErB;MACAlH,GAAG,CAACQ,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BR,GAAG,CAACwC,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BxC,GAAG,CAACyC,YAAY,CAAC,CAAC,CAAC;MACnBzC,GAAG,CAAC0C,WAAW,CAACuE,UAAU,EAAEC,UAAU,EAAEH,cAAc,EAAEC,eAAe,EAAE,EAAE,EAAE,EAAE,EAAE,IAAI,CAAC;;MAEtF;MACAhH,GAAG,CAACwC,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BxC,GAAG,CAACyC,YAAY,CAAC,CAAC,CAAC;MACnBzC,GAAG,CAAC0C,WAAW,CAACuE,UAAU,EAAEC,UAAU,EAAEH,cAAc,EAAEC,eAAe,EAAE,EAAE,EAAE,EAAE,EAAE,GAAG,CAAC;;MAErF;MACAhH,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnBV,GAAG,CAACW,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC;MAC5BX,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC;MAElC,MAAM4G,YAAY,GAAG,CACnB,uDAAuD,EACvD,+CAA+C,EAC/C,EAAE,EACF,+CAA+C,EAC/C,gDAAgD,EAChD,EAAE,EACF,mDAAmD,EACnD,cAAc,CACf;MAEDA,YAAY,CAAChC,OAAO,CAAC,CAACC,IAAI,EAAElB,KAAK,KAAK;QACpC,IAAIkB,IAAI,CAAC5B,IAAI,CAAC,CAAC,KAAK,EAAE,EAAE;UACtBxD,GAAG,CAACY,IAAI,CAACwE,IAAI,EAAEnF,SAAS,GAAG,CAAC,EAAEiH,UAAU,GAAG,EAAE,GAAIhD,KAAK,GAAG,EAAG,EAAE;YAAErD,KAAK,EAAE;UAAS,CAAC,CAAC;QACpF;MACF,CAAC,CAAC;;MAEF;MACAb,GAAG,CAACU,WAAW,CAAC,EAAE,CAAC;MACnBV,GAAG,CAACW,YAAY,CAAC,GAAG,EAAE,GAAG,EAAE,GAAG,CAAC;MAC/BX,GAAG,CAACO,OAAO,CAAC,WAAW,EAAE,QAAQ,CAAC;MAClCP,GAAG,CAACY,IAAI,CAAC,gCAAgC,EAAEX,SAAS,GAAG,CAAC,EAAEiH,UAAU,GAAGF,eAAe,GAAG,EAAE,EAAE;QAAEnG,KAAK,EAAE;MAAS,CAAC,CAAC;;MAEjH;MACAb,GAAG,CAACoH,IAAI,CAAC,0CAA0C,CAAC;IAEtD,CAAC,CAAC,OAAOtB,KAAK,EAAE;MACdC,OAAO,CAACD,KAAK,CAAC,sBAAsB,EAAEA,KAAK,CAAC;MAC5CuB,KAAK,CAAC,8CAA8C,CAAC;IACvD,CAAC,SAAS;MACRzH,WAAW,CAAC,KAAK,CAAC;IACpB;EACF,CAAC;EAED,oBACEP,OAAA,CAACF,MAAM,CAACmI,MAAM;IACZC,OAAO,EAAEzH,WAAY;IACrB0H,QAAQ,EAAE7H,UAAW;IACrB8H,UAAU,EAAE;MAAE1G,KAAK,EAAE;IAAK,CAAE;IAC5B2G,QAAQ,EAAE;MAAE3G,KAAK,EAAE;IAAK,CAAE;IAC1B4G,KAAK,EAAE;MACLC,UAAU,EAAE,mDAAmD;MAC/DC,KAAK,EAAE,OAAO;MACdC,MAAM,EAAE,MAAM;MACdC,YAAY,EAAE,MAAM;MACpBC,OAAO,EAAE,WAAW;MACpBC,QAAQ,EAAE,QAAQ;MAClBC,UAAU,EAAE,KAAK;MACjBC,MAAM,EAAExI,UAAU,GAAG,aAAa,GAAG,SAAS;MAC9CyB,KAAK,EAAE,MAAM;MACbgH,SAAS,EAAE,MAAM;MACjBC,SAAS,EAAE,qCAAqC;MAChDC,UAAU,EAAE,eAAe;MAC3BC,OAAO,EAAE5I,UAAU,GAAG,GAAG,GAAG;IAC9B,CAAE;IAAA6I,QAAA,EAED7I,UAAU,gBACTN,OAAA;MAAKsI,KAAK,EAAE;QAAEc,OAAO,EAAE,MAAM;QAAEC,UAAU,EAAE,QAAQ;QAAEC,cAAc,EAAE,QAAQ;QAAEC,GAAG,EAAE;MAAO,CAAE;MAAAJ,QAAA,gBAC3FnJ,OAAA;QAAKsI,KAAK,EAAE;UACVvG,KAAK,EAAE,MAAM;UACbE,MAAM,EAAE,MAAM;UACdwG,MAAM,EAAE,iCAAiC;UACzCe,SAAS,EAAE,iBAAiB;UAC5Bd,YAAY,EAAE,KAAK;UACnBe,SAAS,EAAE;QACb;MAAE;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,kCAEP;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAK,CAAC,gBAEN7J,OAAA;MAAKsI,KAAK,EAAE;QAAEc,OAAO,EAAE,MAAM;QAAEC,UAAU,EAAE,QAAQ;QAAEC,cAAc,EAAE,QAAQ;QAAEC,GAAG,EAAE;MAAO,CAAE;MAAAJ,QAAA,gBAC3FnJ,OAAA;QAAMsI,KAAK,EAAE;UAAEM,QAAQ,EAAE;QAAS,CAAE;QAAAO,QAAA,EAAC;MAAE;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC,eAC9C7J,OAAA;QAAAmJ,QAAA,EAAM;MAAuB;QAAAO,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAM,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjC;EACN;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACY,CAAC;AAEpB,CAAC;AAACxJ,EAAA,CA/bIJ,YAAyC;AAAA6J,EAAA,GAAzC7J,YAAyC;AAic/C,eAAeA,YAAY;AAAC,IAAA6J,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}